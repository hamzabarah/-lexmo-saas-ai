-- FORCE FIX & SEED: Phase 2 Unit 7 (Store Creation)
-- "Irresistible Design" Version (Matches Unit 4, 5, 6 Structure exactly)

DO $$
DECLARE
    p_id uuid;
    u_id uuid;
    l_id uuid;
    content text;
BEGIN
    -- =================================================================
    -- PART 1: FIX SCHEMA (Constraint)
    -- =================================================================
    BEGIN
        DELETE FROM public.course_modules a 
        USING public.course_modules b 
        WHERE a.id < b.id 
        AND a.phase_id = b.phase_id 
        AND a.module_number = b.module_number;

        ALTER TABLE public.course_modules
        ADD CONSTRAINT course_modules_phase_id_module_number_key UNIQUE (phase_id, module_number);
    EXCEPTION
        WHEN duplicate_table THEN NULL;
    END;

    -- =================================================================
    -- PART 2: SEED CONTENT FOR UNIT 7
    -- =================================================================
    
    SELECT id INTO p_id FROM public.phases WHERE phase_number = 2;

    -- Create/Update Module 7
    INSERT INTO public.course_modules (phase_id, module_number, title_ar, title_en, badge, is_locked)
    VALUES (p_id, 7, 'ุฅูุดุงุก ุงููุชุฌุฑ ๐ช', 'Store Creation', 'SE 07', false)
    ON CONFLICT (phase_id, module_number) DO UPDATE
    SET title_ar = EXCLUDED.title_ar,
        title_en = EXCLUDED.title_en,
        badge = EXCLUDED.badge;

    SELECT id INTO u_id FROM public.course_modules WHERE phase_id = p_id AND module_number = 7;

    -- Clear existing lessons for this unit
    DELETE FROM public.lessons WHERE course_module_id = u_id;

    -- --------------------------------------------------------------------------
    -- LESSON 1: ููุงุฐุง Shopifyุ
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ููู ููุงุฐุง Shopify ูู ุงูููุตุฉ ุงูุฃูุซู ูููุจุชุฏุฆูู ูุงููุญุชุฑููู ูู ุนุงูู ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใูุง ูู Shopifyุใ
Shopify = ููุตุฉ ูุชูุงููุฉ ูุฅูุดุงุก ุงููุชุงุฌุฑ ุงูุฅููุชุฑูููุฉ ุจุฏูู ุจุฑูุฌุฉ.
*   ุฃูุซุฑ ูู **4 ููููู ูุชุฌุฑ** ูุดุท ุนุงูููุงู.
*   ุชุนุงููุงุช ุจุฃูุซุฑ ูู **500 ูููุงุฑ ุฏููุงุฑ**.
*   ุงูุฎูุงุฑ #1 ููุฏุฑูุจุดูุจููุบ ูุงูุฅููููุฑุณ.

### ใ๐ ููุงุฑูุฉ ููุตุงุช ุงูุฅููููุฑุณใ

| ุงูููุตุฉ | ุงูุณูููุฉ | ุงููุฑููุฉ | ุงูุณุนุฑ | ูููุจุชุฏุฆูู |
| :--- | :--- | :--- | :--- | :--- |
| **Shopify** | โญโญโญโญโญ | โญโญโญโญ | 32$/ุดูุฑ | โญโญโญโญโญ |
| **WooCommerce** | โญโญโญ | โญโญโญโญโญ | ูุชุบูุฑ | โญโญโญ |
| **YouCan** | โญโญโญโญ | โญโญโญ | ูุฌุงูู+ | โญโญโญโญ |
| **Wix** | โญโญโญโญ | โญโญโญ | 27$/ุดูุฑ | โญโญโญโญ |

### ใููุงุฐุง ูุฎุชุงุฑ Shopifyุใ
1.  **ุงูุณูููุฉ ุงููุทููุฉ:** ุณุญุจ ูุฅููุงุช (Drag & Drop)ุ ูุชุฌุฑ ุฌุงูุฒ ูู ุณุงุนุงุช.
2.  **ุงูููุซูููุฉ ูุงูุฃูุงู:** ุงุณุชุถุงูุฉ ุณุฑูุนุฉุ SSL ูุฌุงููุ ุญูุงูุฉ ูู ุงูุงุฎุชุฑุงู.
3.  **ูุธุงู ุงูุชุทุจููุงุช (Apps):** +8,000 ุชุทุจูู ููู ูุง ุชุญุชุงุฌู (Upsell, Reviews).
4.  **ุจูุงุจุงุช ุงูุฏูุน:** Shopify Payments, PayPal, Stripe, COD.
5.  **ุฏุนู ุงูู Dropshipping:** ุชูุงูู ุฎูุงูู ูุน CJ, DSers.

### ใ๐ฐ ุฎุทุท Shopify ุงูุฃุณุงุณูุฉใ

| ุงูุฎุทุฉ | ุงูุณุนุฑ | ุงููููุฒุงุช | ุงูุฃูุถู ูู |
| :--- | :--- | :--- | :--- |
| **Basic** | 32$/ุดูุฑ | ูู ุงูุฃุณุงุณูุงุชุ ุญุณุงุจูู | โ ูููุจุชุฏุฆูู |
| **Shopify** | 92$/ุดูุฑ | ุชูุงุฑูุฑ ุงุญุชุฑุงููุฉุ 5 ุญุณุงุจุงุช | โ ูููุชุงุฌุฑ ุงููุงููุฉ |
| **Advanced** | 399$/ุดูุฑ | ุชูุงุฑูุฑ ูุชูุฏูุฉุ ุฑุณูู 0.5% | โ ูููุจุงุฑ ููุท |

๐ **ุนุฑุถ ุฎุงุต:** Shopify ููุฏู ุบุงูุจุงู "ุฃูู 3 ุฃูุงู ูุฌุงูุงู" ุซู "ุฃูู ุดูุฑ ุจู **1$ ููุท**".

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ูุง ุชุถูุน ููุชู ูู ููุงุฑูุฉ ุงูููุตุงุช ูุฃุณุงุจูุน!**
Shopify ูู ุงููุนูุงุฑ ุงูุตูุงุนู (Industry Standard). ูู ุฏูููุฉ ุชูุถููุง ูู ุงูููุงุฑูุฉ ูู ุฏูููุฉ ุถุงุฆุนุฉ ูู ุงูุจูุงุก ูุงูุจูุน. ุงุฎุชุฑ Shopify ูุงุจุฏุฃ ุงูุขู! ๐

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**"ุณุฃุจุฏุฃ ุจููุตุฉ ูุฌุงููุฉ ุซู ุฃูุชูู ูู Shopify ูุงุญูุงู"**
โ ุงูุงูุชูุงู ูุงุญูุงู = ูุงุจูุณ ุชููู + ุฎุณุงุฑุฉ ุจูุงูุงุช + ุฎุณุงุฑุฉ ุฃุฑุดูุฉ SEO.
โ ุงุจุฏุฃ ุจู Shopify ูู ุงูููู ุงูุฃูู (ุชูููุฉ 1$ ูุง ุชุฐูุฑ).

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุฑุงุฑ ูุฏุฑูุณ ุจุงุฎุชูุงุฑ "ุฃููู" ููุตุฉ ูู ุงูุณููุ ูุชุจูู ุนูููุง ุจุฒูุณ ุญูููู ูููุณ ูุฌุฑุฏ ุชุฌุฑุจุฉ.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ููุตุฉ ูุณุชูุฑุฉ = ุตูุฑ ุฃุนุทุงู ููุช ุงูุญููุงุช ุงูุฅุนูุงููุฉ = ูุจูุนุงุช ูุณุชูุฑุฉ.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 1, 'ููุงุฐุง Shopifyุ', 'Why Shopify?', content, 1, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ูููุช ูููุฒุงุช Shopify ุนู ุบูุฑูุง', 1),
    (l_id, 'ูุฑุฑุช ุฎุทุฉ ุงูุจุฏุงูุฉ (Basic)', 2),
    (l_id, 'ุฌุงูุฒ ูุฅูุดุงุก ุงูุญุณุงุจ ููุฑุงู', 3);


    -- --------------------------------------------------------------------------
    -- LESSON 2: ุฅูุดุงุก ุงูุญุณุงุจ ูุงูุฅุนุฏุงุฏุงุช
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุฅูุดุงุก ุญุณุงุจ Shopify ูุถุจุท ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ ุจุดูู ุตุญูุญ ูู ุงููุฑุฉ ุงูุฃููู

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใุฎุทูุงุช ุฅูุดุงุก ุงูุญุณุงุจใ
1.  ุงุฐูุจ ุฅูู **shopify.com**.
2.  ุงุฏุฎู ุจุฑูุฏ ุฅููุชุฑููู **ุงุญุชุฑุงูู** (contact@brand.com) ูููุณ (coolboy2020@...).
3.  ุฃุฌุจ ุนูู ุงูุฃุณุฆูุฉ (ููููู ุชุฎุทููุงุ ูุง ุชุคุซุฑ).
4.  ุงุฎุชุฑ **ุงุณู ุงููุชุฌุฑ ุงููุคูุช** (ูุซุงู: mybrand.myshopify.com). ูุง ุชูููุ ุณุชุบูุฑู ูุงุญูุงู ุจุงูุฏูููู.

### ใโ๏ธ ุถุจุท ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉใ
ูู ููุญุฉ ุงูุชุญููุ ุงุฐูุจ ุฅูู **Settings** (ุฃุณูู ุงููุณุงุฑ):

**1. Store Details:**
*   ุงุณู ุงููุชุฌุฑุ ุจุฑูุฏ ุงูุชูุงุตูุ ุงูุนููุฉ (ุฃูู ุดูุก!)ุ ูุงูููุทูุฉ ุงูุฒูููุฉ.

**2. Checkout (ููู ุฌุฏุงู ููุชุญููู!):**
*   **Customer accounts:** ุงุฌุนููุง "Optional" (ูุง ุชุฌุจุฑ ุงูุนููู ุนูู ุงูุชุณุฌูู!).
*   **Customer contact:** ุงุฎุชุฑ "Phone number or email".
*   **Form options:**
    *   Last name: Required.
    *   Company name: Hidden (ูุง ุชุนูุฏ ุงูุฃููุฑ).
    *   Phone number: **Required** (ุถุฑูุฑู ููุชูุตูู).

**3. Notifications:**
ุชุฃูุฏ ูู ุชูุนูู ุฑุณุงุฆู "Order confirmation" ู "Shipping confirmation".

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**Guest Checkout ูู ุงูููู!**
ุฅุฌุจุงุฑ ุงูุนููู ุนูู ุฅูุดุงุก ุญุณุงุจ ููุชู ุงูุชุญููู (Conversion) ุจูุณุจุฉ 30%+.
ูู ุชุญุจ ุชุนุจุฆุฉ ุงุณุชูุงุฑุฉ ุทูููุฉ ูุดุฑุงุก ุนููุฉุ ุนูููู ุฃูุถุงู ูุง ูุญุจ ุฐูู. ุงุฌุนู ุงูุดุฑุงุก ุณููุงู!

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**"ุณุฃุถุจุท ูู ุงูุฅุนุฏุงุฏุงุช ุจุดูู ูุซุงูู ูุจู ุงูุฅุทูุงู"**
โ ุงูุฅุนุฏุงุฏุงุช "ุงููุซุงููุฉ" ูุฎ ูุง ููุชูู.
โ ุงุถุจุท ุงูุฃุณุงุณูุงุช (ุงูุฏูุนุ ุงูุดุญูุ ูุนูููุงุช ุงููุชุฌุฑ) ูุงูุทูู. ููููู ุชุนุฏูู ุงูุจุงูู ูุงุญูุงู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุฏูู ุงูุขู "ูููู ุนุธูู" ููุชุฌุฑ ุงุญุชุฑุงูู ุฌุงูุฒ ูุงุณุชูุจุงู ุงููุญุชูู ูุงูููุชุฌุงุช.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุฅุนุฏุงุฏุงุช Checkout ุตุญูุญุฉ = ุนููุงุก ูููููู ุงูุดุฑุงุก ููููุงูุฉ.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 2, 'ุฅูุดุงุก ุงูุญุณุงุจ ูุงูุฅุนุฏุงุฏุงุช', 'Account Setup', content, 2, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุฃูุดุฃุช ุญุณุงุจ Shopify', 1),
    (l_id, 'ุถุจุทุช ุชูุงุตูู ุงููุชุฌุฑ (ุงูุนููุฉ ูุงูููุทูุฉ)', 2),
    (l_id, 'ุถุจุทุช ุฅุนุฏุงุฏุงุช Checkout (Guest Checkout)', 3),
    (l_id, 'ูุนููุช ุงูุฅุดุนุงุฑุงุช ุงูุฃุณุงุณูุฉ', 4);


    -- --------------------------------------------------------------------------
    -- LESSON 3: ุฑุจุท ุงูุฏูููู ุงูุงุญุชุฑุงูู
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุฑุจุท ุฏูููู (ูุทุงู) ุงุญุชุฑุงูู ุจูุชุฌุฑู ูุจูุงุก ุงูุซูุฉ ูุงููุตุฏุงููุฉ ููุฑุงู

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใููุงุฑูุฉ: ุงููุงูู vs ุงููุญุชุฑูใ
*   โ **ุงููุงูู:** mystore.myshopify.com (ูุฌุงููุ ุทูููุ ูุง ุซูุฉ).
*   โ **ุงููุญุชุฑู:** mystore.com (ูุตูุฑุ ููููุ ุซูุฉ 100%).

### ใููู ุชุฎุชุงุฑ ุงูุฏูููู ุงููุซุงููุใ
1.  **ูุตูุฑ:** ุฃูู ูู 15 ุญุฑู.
2.  **ุณูู:** ุณูู ุงููุทู ูุงููุชุงุจุฉ (ุชุฎูู ุฃู ุชูููู ูุดุฎุต ุนุจุฑ ุงููุงุชู).
3.  **ูุธูู:** ูุง ุฃุฑูุงูุ ูุง ุดุฑุทุงุช (-).
4.  **ุงูุงูุชุฏุงุฏ:** .com ูู ุงูููู. .store ุฃู .co ููุจููุฉ.

### ใ๐ ุฃูู ุชุดุชุฑู ุงูุฏููููุใ

| ุงููุฒูุฏ | ุงูุณุนุฑ ุงูุชูุฑูุจู | ุงูููุฒุฉ |
| :--- | :--- | :--- |
| **Namecheap** | 10$/ุณูุฉ | ููุญุฉ ุชุญูู ููุชุงุฒุฉุ ุญูุงูุฉ ุฎุตูุตูุฉ ูุฌุงููุฉ. |
| **Cloudflare** | 9$/ุณูุฉ | ุฃุฑุฎุต ุณุนุฑ (ุณุนุฑ ุงูุชูููุฉ). |
| **Shopify** | 14$/ุณูุฉ | **ุงูุฃุณูู!** ูุฑุจุท ุชููุงุฆูุงู ุจุถุบุทุฉ ุฒุฑ. |

### ใุทุฑููุฉ ุงูุฑุจุท (ูู Shopify)ใ
**Settings โ Domains โ Buy new domain**
ุงุจุญุซ ุนู ุงุณูู ูุงุดุชุฑู. ุณูุชู ุถุจุท ูู ุดูุก ุชููุงุฆูุงู. ูุฐู ุฃุณูู ุทุฑููุฉ ูููุจุชุฏุฆูู.

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ุงูุฏูููู ุงุณุชุซูุงุฑุ ููุณ ูุตุฑููุงู!**
14$ ูู ุงูุณูุฉ ุชุนูู 1.1$ ูู ุงูุดูุฑ. ูุฐุง ุงููุจูุบ ุงูุชุงูู ูู ุงููุฑู ุจูู ุฃู ูุฑุงู ุงูุนููู "ุจุฑุงูุฏ ุญูููู" ุฃู "ูุตุงุจ ูุญุชูู". ูุง ุชุจุฎู ููุง!

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**"ุณุฃุณุชุฎุฏู ุงููุทุงู ุงููุฌุงูู ุญุชู ุฃุญูู ูุจูุนุงุช"**
โ ูู ุชุญูู ูุจูุนุงุช ูุฃู ุงููุงุณ ุชุฎุงู ุงูุดุฑุงุก ูู ูุทุงูุงุช ุบุฑูุจุฉ.
โ ูููุณุจูู ูุฏ ูุฑูุถ ุฅุนูุงูุงุชู.
โ ุงุดุชุฑู ุงูุฏูููู ูู ุงูููู ุงูุฃูู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุชุฌุฑู ูููู ุนููุงูุงู ุฑุณููุงู ุนูู ุงูุฅูุชุฑูุชุ ุฌุงูุฒ ููุทุจุงุนุฉ ุนูู ุงููุฑูุช ูุงูุธููุฑ ูู ุงูุฅุนูุงูุงุช.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงุณู ุงุญุชุฑุงูู = ุซูุฉ ุฃุนูู = ููุฑุงุช ุฃูุซุฑ ุนูู ุงูุฅุนูุงู.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 3, 'ุฑุจุท ุงูุฏูููู ุงูุงุญุชุฑุงูู', 'Professional Domain', content, 3, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุงุฎุชุฑุช ุงุณู ุฏูููู ูุชุงุญ ูุฌุฐุงุจ', 1),
    (l_id, 'ุงุดุชุฑูุช ุงูุฏูููู (Shopify/Namecheap)', 2),
    (l_id, 'ุฑุจุทุชู ุจุงููุชุฌุฑ ูุชุฃูุฏุช ูู ุงูู SSL', 3),
    (l_id, 'ุฌุนูุชู ูู ุงููุทุงู ุงูุฃุณุงุณู (Primary)', 4);


    -- --------------------------------------------------------------------------
    -- LESSON 4: ุฅุนุฏุงุฏ ุจูุงุจุงุช ุงูุฏูุน
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุฅุนุฏุงุฏ ุทุฑู ุงูุฏูุน ูุงุณุชูุจุงู ุงูุฃููุงู ูู ุงูุนููุงุก ุจุฃูุงู ูุณูููุฉ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใูุนุงุฏูุฉ ุงูุฏูุนใ
"ูุง ูุณููุฉ ุฏูุน = ูุง ุจูุน"
ูุฌุจ ุฃู ุชููุฑ ููุนููู ุงูุทุฑููุฉ ุงูุชู ูุซู ุจูุง ูููุถููุง.

### ใ๐บ๏ธ ุฎุฑูุทุฉ ุจูุงุจุงุช ุงูุฏูุนใ

**1. Shopify Payments:**
*   **ุฃูู ุชุนููุ** ุฃูุฑูุจุงุ ุฃูุฑููุงุ ููุฏุงุ ุงุณุชุฑุงููุง.
*   **ุงูููุฒุฉ:** ุงูุฃุฑุฎุต ุฑุณููุงูุ ูุฏูุฌุฉ ุจุงููุงููุ ุชูุจู ูู ุงูุจุทุงูุงุช + Apple Pay.
*   **ุงูุฅุนุฏุงุฏ:** ุจุณูุท ุฌุฏุงู (ูููุฉ + ุญุณุงุจ ุจููู).

**2. Stripe:**
*   **ุฃูู ุชุนููุ** ูุนุธู ุงูุนุงูู (ูุงูุฎููุฌ).
*   **ุงูููุฒุฉ:** ุชูุจู ูู ุดูุกุ ููุซููุฉ ุฌุฏุงู.
*   **ุงูุจุฏูู:** ุฅุฐุง ูู ุชุชููุฑ ูู ุจูุฏูุ ุชุญุชุงุฌ "Stripe Atlas" ุฃู ุดุฑูุฉ ุจุฑูุทุงููุฉ.

**3. PayPal:**
*   **ุฃูู ุชุนููุ** ูู ููุงู.
*   **ุงูุฃูููุฉ:** ุถุฑูุฑูุฉ! 30-40% ูู ุงููุชุณูููู ููุถููููุง ููุฃูุงู.
*   **ูุตูุญุฉ:** ุฃูุดุฆ ุญุณุงุจ PayPal Business.

**4. ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู (COD):**
*   **ุฃูู ุชุนููุ** ุงูุฎููุฌุ ูุตุฑุ ุดูุงู ุฃูุฑูููุง.
*   **ุงูุฃูููุฉ:** ุงูููู ูู ุงูุฏูู ุงูุนุฑุจูุฉ.
*   **ุงูุฅุนุฏุงุฏ:** Settings โ Payments โ Manual โ Create custom payment method.

### ใุงูุฅุนุฏุงุฏ ุงูุฃูุซู ูููุชุฌุฑใ
*   **ููุณูู ุงูุนุงููู:** Shopify Payments (ุฃู Stripe) + PayPal.
*   **ููุณูู ุงูุนุฑุจู:** COD (ุฑุฆูุณู) + ุจุทุงูุงุช (ุงุฎุชูุงุฑู).

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ูููุง ุฒุงุฏุช ุฎูุงุฑุงุช ุงูุฏูุนุ ุฒุงุฏุช ุงููุจูุนุงุช!**
ุนููู ูุนู PayPal ููุทุ ุฅุฐุง ูู ูุฌุฏู ุณูุบุงุฏุฑ. ุนููู ูุณุชุนุฌู ูุฑูุฏ Apple Payุ ุฅุฐุง ูู ูุฌุฏู ุณูุบุงุฏุฑ.
ุฃุถู 2-3 ุทุฑู ุฏูุน ุนูู ุงูุฃูู ูุชุบุทู ุงูุฌููุน.

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**"ุณุฃุถูู PayPal ููุท ูุฃูู ุฃุณูู ูู"**
โ ุฃูุช ุชุฎุณุฑ 50% ูู ุงููุงุณ ุงูุฐูู ููุถููู ุงูุฏูุน ุจุงูุจุทุงูุฉ ูุจุงุดุฑุฉ ุฏูู ุงููุฑูุฑ ุจู PayPal.
โ ุงููุฒูุฌ ุงูุฐูุจู = ุจุทุงูุงุช + PayPal.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุชุฌุฑู ุฌุงูุฒ ุชูููุงู ูุงุณุชูุจุงู ุงูุฃููุงู ูู ุฃูู ุฏูููุฉ ููุฅุทูุงู.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุนุฏู ููุฏุงู ุฃู ุนููู ุจุณุจุจ "ุนุฏู ุชููุฑ ูุณููุฉ ุงูุฏูุน ุงูููุงุณุจุฉ".';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 4, 'ุฅุนุฏุงุฏ ุจูุงุจุงุช ุงูุฏูุน', 'Payment Gateways', content, 4, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุญุฏุฏุช ุงูุจูุงุจุงุช ุงููุชุงุญุฉ ูู ุจูุฏู ูุณููู', 1),
    (l_id, 'ูุนูุช Shopify Payments ุฃู Stripe', 2),
    (l_id, 'ุฑุจุทุช ุญุณุงุจ PayPal Business', 3),
    (l_id, 'ุงุฎุชุจุฑุช ุนูููุฉ ุงูุฏูุน ุจููุณู', 4);


    -- --------------------------------------------------------------------------
    -- LESSON 5: ุฅุนุฏุงุฏ ููุงุทู ุงูุดุญู
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุฅุนุฏุงุฏ ููุงุทู ูุฃุณุนุงุฑ ุงูุดุญู ุจุดูู ุงุณุชุฑุงุชูุฌู ูุฒูุฏ ูุนุฏู ุงูุชุญููู ูุฃุฑุจุงุญ ุงูุทูุจ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใุงุณุชุฑุงุชูุฌูุงุช ุงูุดุญู ุงูุซูุงุซุฉ ๐ฆใ

**1. ุดุญู ูุฌุงูู (Free Shipping) - ุงูุฃูุถู ููุชุญููู ๐**
*   ุงุฏูุฌ ุณุนุฑ ุงูุดุญู ูู ุณุนุฑ ุงูููุชุฌ.
*   ุงูุนููู ูุฑู "0โฌ ุดุญู" ูููุฑุญ ููุดุชุฑู.
*   ูุฒูุฏ ุงูุชุญููู ุจู 30%+.

**2. ุดุญู ูุฌุงูู ูุดุฑูุท (Free over X)**
*   ูุซุงู: "ุดุญู ูุฌุงูู ููุทูุจุงุช ููู 50โฌ".
*   ุงููุฏู: ุฑูุน ูููุฉ ุงูุทูุจ (AOV). ุงูุนููู ูุดุชุฑู ูุทุนุชูู ุจุฏูุงู ูู ูุงุญุฏุฉ ููุญุตู ุนูู ุงูุดุญู ุงููุฌุงูู.

**3. ุดุญู ูุฏููุน (Charged Shipping)**
*   ุณุนุฑ ุงูููุชุฌ ููุฎูุถุ ูุงูุดุญู ููุตูู.
*   ุดูุงูุฉุ ููู ูุฏ ุชุณุจุจ "ุตุฏูุฉ" ุนูุฏ ุงูุฏูุน ูุชุฒูุฏ ุงูู Abandoned Carts.

### ใููููุฉ ุงูุฅุนุฏุงุฏ ูู Shopifyใ
**Settings โ Shipping and delivery โ Shipping**

1.  **ุฃูุดุฆ ููุทูุฉ (Zone):** ูุซูุงู "Europe". ุฃุถู ุงูุฏูู (ูุฑูุณุงุ ุฃููุงููุง...).
2.  **ุฃุถู ุณุนุฑุงู (Rate):**
    *   ุณููู "Standard Shipping".
    *   ุงูุณุนุฑ: 0 (ูููุฌุงูู) ุฃู 4.99 (ูููุฏููุน).
    *   ุฃุถู ุดุฑุทุงู (Condition): Based on order price > 50 (ูููุดุฑูุท).

### ใููุช ุงููุนุงูุฌุฉ (Processing Time)ใ
ูู ุตุงุฏูุงู!
*   ููุฏุฑูุจุดูุจููุบ: ุงูุชุจ ูู ุณูุงุณุชู 7-15 ููู ุนูู (ุฃู ุญุณุจ ุงูููุฑุฏ).
*   ูู ุงูุฅุนุฏุงุฏุงุช: ุถุน ููุช ุงูุชุฌููุฒ 1-3 ุฃูุงู.

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**"ุดุญู ูุฌุงูู ููู 50โฌ" = ุณุญุฑ!**
ุฅุฐุง ูุงู ููุชุฌู ุจู 30โฌุ ุณูุถุทุฑ ุงูุนููู ูุฅุถุงูุฉ ููุชุฌ ุขุฎุฑ ุจู 20โฌ+ ููุญุตู ุนูู ุงูุดุญู ุงููุฌุงูู.
ุฃูุช ุชุฏูุน ุดุญูุงู ูุงุญุฏุงูุ ูุชุฑุจุญ ูู ููุชุฌูู! ๐ฐ

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**ุฅุฎูุงุก ุชูููุฉ ุงูุดุญู ุญุชู ุงูููุงูุฉ.**
โ ุงูุนููู ูุชูุงุฌุฃ ุจู +5โฌ ูู ุงูุฏูุนุ ููุบุถุจ ููุบูู ุงูุตูุญุฉ.
โ ูู ูุงุถุญุงู: ุถุน ุดุฑูุทุงู ุนูููุงู (Announcement Bar): "ุดุญู ูุฌุงูู ููู ุงูุทูุจุงุช!" ุฃู "ุดุญู ูุฌุงูู ููุทูุจุงุช +50โฌ".

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุธุงู ุดุญู ูุงุถุญุ ูุง ูุณุจุจ ุตุฏูุงุช ููุนูููุ ููุญูุฒู ุนูู ุฅููุงู ุงููุฒูุฏ.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุฒูุงุฏุฉ ูุชูุณุท ูููุฉ ุงูุณูุฉ (AOV) ุจูุถู ุงุณุชุฑุงุชูุฌูุฉ ุงูุดุญู ุงููุดุฑูุท.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 5, 'ุฅุนุฏุงุฏ ููุงุทู ุงูุดุญู', 'Shipping Zones', content, 5, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุงุฎุชุฑุช ุงุณุชุฑุงุชูุฌูุฉ ุงูุดุญู (ูุฌุงูู/ูุดุฑูุท)', 1),
    (l_id, 'ุฃูุดุฃุช ููุงุทู ุงูุดุญู (Zones) ููุฏูู ุงููุณุชูุฏูุฉ', 2),
    (l_id, 'ุญุฏุฏุช ุงูุฃุณุนุงุฑ ูุงูุดุฑูุท ุจุฏูุฉ', 3),
    (l_id, 'ุชุฃูุฏุช ุฃู ุงูุดุญู ูุธูุฑ ุจุดูู ุตุญูุญ ูู ุงูู Checkout', 4);


    -- --------------------------------------------------------------------------
    -- LESSON 6: ุงูุตูุญุงุช ุงููุงููููุฉ
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุฅูุดุงุก ุงูุตูุญุงุช ุงููุงููููุฉ ุงูุถุฑูุฑูุฉ ูุญูุงูุฉ ูุชุฌุฑู ูุจูุงุก ุงูุซูุฉ ูุชุฌูุจ ุงูุญุธุฑ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใููุงุฐุง ูู ุฅุฌุจุงุฑูุฉุใ
1.  **ูุงููููุงู:** ูุทููุจุฉ ูู ุฃูุฑูุจุง ูุฃูุฑููุง (GDPR ูุบูุฑูุง).
2.  **ุฅุนูุงููุง:** ููุณุจูู ูุฌูุฌู ูุฑูุถูู ุฃู ูุชุฌุฑ ุจุฏูููุง (ุญุธุฑ ููุฑู).
3.  **ููุณูุงู:** ุงูุนููู ูุจุญุซ ุนููุง ููุชุฃูุฏ ุฃู ุงููุชุฌุฑ "ุญูููู" ูุขูู.

### ใุงูุตูุญุงุช ุงูุฃุฑุจุนุฉ ุงูููุฏุณุฉ ๐ใ
1.  **Privacy Policy (ุงูุฎุตูุตูุฉ):** ููู ุชุชุนุงูู ูุน ุจูุงูุงุช ุงูุนููู.
2.  **Terms of Service (ุงูุดุฑูุท):** ุงูููุงููู ุงูุชู ุชุญูู ุนูุงูุชู ุจุงูุนููู.
3.  **Refund Policy (ุงูุงุณุชุฑุฌุงุน):** ุณูุงุณุฉ ุงูุฅุฑุฌุงุน ูุงูุถูุงู (ูููุฉ ุฌุฏุงู).
4.  **Shipping Policy (ุงูุดุญู):** ูุชู ูุตู ุงูุทูุจุ ููู ุฃููุ

### ใููู ุชูุดุฆูุง ูู ุซูุงููุใ
**Settings โ Policies**
Shopify ูููุฑ ููุงูุจ ุฌุงูุฒุฉ (Templates) ุจููุฑุฉ ุฒุฑ!
*   ุงููุฑ **Create from template**.
*   ุฑุงุฌุน ุงููุต (ุงุณุชุจุฏู [INSERT] ุจูุนูููุงุชู ุฅุฐุง ูุฌุฏุช).
*   ุงุญูุธ.

### ใุชุฎุตูุต ุณูุงุณุฉ ุงูุงุณุชุฑุฌุงุน (Refund)ใ
ุงุฌุนููุง ุณุฎูุฉ!
*   โ "30 ููู ุถูุงู ุงุณุชุฑุฌุงุน ุงูุฃููุงู".
*   โ "ูุง ููุฌุฏ ุงุณุชุฑุฌุงุน". (ูุฐุง ููุชู ุงููุจูุนุงุช).
ูุณุจุฉ ุงูุงุณุชุฑุฌุงุน ุงููุนููุฉ ุนุงุฏุฉ ุฃูู ูู 5%ุ ููู ูุฌูุฏ ุงูุถูุงู ูุฑูุญ ุงูู 95% ุงูุจุงููู ููุดุชุฑูุง.

### ใุฅุธูุงุฑ ุงูุตูุญุงุชใ
ูุง ุชูุณ ุฅุถุงูุชูุง ูููุงุฆูุฉ ุงูุณูููุฉ (Footer Menu) ุญุชู ูุฑุงูุง ุงูุนููู ูููุณุจูู.
**Online Store โ Navigation โ Footer Menu โ Add item.**

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ุงูู AI ุตุฏููู!**
ุฅุฐุง ุฃุฑุฏุช ุณูุงุณุฉ ูุฎุตุตุฉุ ุงุทูุจ ูู Claude/ChatGPT:
"ุงูุชุจ ูู ุณูุงุณุฉ ุดุญู ููุชุฌุฑ ุฏุฑูุจุดูุจููุบ ูุดุญู ูู ุงูุตูู ูุฃูุฑูุจุง ุฎูุงู 7-12 ูููุ ูุชููู ุจุตูุบุฉ ุงุญุชุฑุงููุฉ ููุทููุฉ".

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุชุฌุฑ ูุงููููุ ูุญููุ ุฌุงูุฒ ููุฅุนูุงูุงุชุ ููุจุนุซ ุงูุทูุฃูููุฉ ูู ููุจ ุงูุนููู.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุชุฌูุจ ุญุธุฑ ุงูุญุณุงุจุงุช ุงูุฅุนูุงููุฉ ุงูุฐู ูุฏ ูููู ุจุฒูุณู ุจุงููุงูู.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 6, 'ุงูุตูุญุงุช ุงููุงููููุฉ', 'Legal Pages', content, 6, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุฃูุดุฃุช ุงูุตูุญุงุช ุงูุฃุฑุจุนุฉ ุจุงุณุชุฎุฏุงู ุงูููุงูุจ', 1),
    (l_id, 'ุฎุตุตุช ุณูุงุณุฉ ุงูุงุณุชุฑุฌุงุน ูุชููู ูุทูุฆูุฉ', 2),
    (l_id, 'ุฃุถูุช ุงูุตูุญุงุช ููู Footer Menu', 3),
    (l_id, 'ุฑุงุฌุนุช ุงูุฑูุงุจุท ููุชุฃูุฏ ุฃููุง ุชุนูู', 4);


    -- --------------------------------------------------------------------------
    -- LESSON 7: ุงููุตุงุฏูุฉ ูุน ุงูููุชุด
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุงูุชุฃูุฏ ูู ุฅุชูุงูู ูุฅูุดุงุก ุงููุชุฌุฑ ุชูููุงู ูุงุณุชุนุฏุงุฏู ููุฑุญูุฉ ุงูุชุตููู

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใูุฑุงุฌุนุฉ ุงููุญุฏุฉ 07ใ
ุชุฃูุฏ ุฃูู:
1.  ุฃูุดุฃุช ุญุณุงุจ Shopify ูุถุจุทุช ุงูุฅุนุฏุงุฏุงุช.
2.  ุฑุจุทุช ุงูุฏูููู ุงูุงุญุชุฑุงูู (HTTPS ููุนู).
3.  ุฃุนุฏุฏุช ุจูุงุจุงุช ุงูุฏูุน (Stripe/PayPal).
4.  ุถุจุทุช ุงูุดุญู (ูุฌุงูู ุฃู ูุดุฑูุท).
5.  ุฃุถูุช ุงูุตูุญุงุช ุงููุงููููุฉ ูู ุงูููุชุฑ.

### ใChecklist ุงูุฌุงูุฒูุฉ โใ
*   [ ] ุงูุฏูููู ูุนูู ุจุฏูู "myshopify".
*   [ ] ุนููุช ุทูุจ ุชุฌุฑูุจู (Test Order) ููุตู ููุฏูุน ุจูุฌุงุญ.
*   [ ] ุฅุดุนุงุฑุงุช ุงูุทูุจ ุชุตู ููุฅูููู.
*   [ ] ุฑูุงุจุท ุงูููุชุฑ (ุงูุณูุงุณุงุช) ุชุนูู.

### ใููุฎุต ุงูุฅูุฌุงุฒุงุช ๐ใ
ุฃูุช ุงูุขู ุชููู:
*   **ุนูุงุฑ ุฑููู:** ูุชุฌุฑ ุญูููู ุจุงุณูู.
*   **ูุธุงู ูุงูู:** ุฌุงูุฒ ูุงุณุชูุจุงู ุงูุฃููุงู.
*   **ูุธุงู ููุฌุณุชู:** ุฌุงูุฒ ูุญุณุงุจ ุงูุดุญู.
*   **ุบุทุงุก ูุงูููู:** ูุญููู ููุญูู ุงูุนููู.

ููุฏ ุจููุช "ุงูุฃุณุงุณุงุช" ู "ุงูุณุจุงูุฉ" ู "ุงูููุฑุจุงุก" ูุจูุชู ุงูุฑููู. ๐๏ธ
ูุงุฐุง ุจููุ **ุงูุฏูููุฑ ูุงูุฃุซุงุซ!** (ุงูุซูู ูุงูุชุตููู).

### ใุงูุฎุทูุฉ ุงูุชุงููุฉใ
**โก๏ธ ุงููุญุฏุฉ 08: ุจูุงุก ุงูุซูู ุจุงูู AI ๐จ๐ค**
ุณูุชุนูู ููู ูุณุชุฎุฏู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุชุตููู ูุชุฌุฑ ูุง ูุจุฏู ููุท ุงุญุชุฑุงููุงูุ ุจู "ูุบุฑูุงู ููุดุฑุงุก" ูู ุฏูุงุฆู!

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ุฃูุช ูุณุช "ูุฌุฑุจุงู" ุจู ุตุงุญุจ "ูุชุฌุฑ". ุงูุฃุณุงุณ ุงูุชููู ุตูุจ ููุง ูุญุชุงุฌ ุชุนุฏูู ูุดููุฑ.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงูุฃุณุงุณ ุงูููู ูุชุญูู ุขูุงู ุงูุฒูุงุฑ ุฏูู ุฃู ูููุงุฑ.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 7, 'ุงููุตุงุฏูุฉ ูุน ุงูููุชุด', 'Validation', content, 7, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุฃูููุช ูุงุฆูุฉ ุงูุชุญูู ุงูุชูููุฉ (Checklist)', 1),
    (l_id, 'ุงููุชุฌุฑ ูุนูู ูุงูุฏูููู ูุฑุจูุท', 2),
    (l_id, 'ุฌุฑุจุช ุนูููุฉ ุดุฑุงุก ููููุฉ ุญุชู ุงูููุงูุฉ', 3),
    (l_id, 'ุฃูุง ุฌุงูุฒ ูุชุตููู ุงููุชุฌุฑ (ุงููุญุฏุฉ 8)! ๐จ', 4);

END $$;
