-- FORCE FIX & SEED: Phase 2 Unit 8 (AI Theme Building)
-- "Irresistible Design" Version (Matches Unit 4, 5, 6, 7 Structure exactly)

DO $$
DECLARE
    p_id uuid;
    u_id uuid;
    l_id uuid;
    content text;
BEGIN
    -- =================================================================
    -- PART 1: FIX SCHEMA (Constraint)
    -- =================================================================
    BEGIN
        DELETE FROM public.course_modules a 
        USING public.course_modules b 
        WHERE a.id < b.id 
        AND a.phase_id = b.phase_id 
        AND a.module_number = b.module_number;

        ALTER TABLE public.course_modules
        ADD CONSTRAINT course_modules_phase_id_module_number_key UNIQUE (phase_id, module_number);
    EXCEPTION
        WHEN duplicate_table THEN NULL;
    END;

    -- =================================================================
    -- PART 2: SEED CONTENT FOR UNIT 8
    -- =================================================================
    
    SELECT id INTO p_id FROM public.phases WHERE phase_number = 2;

    -- Create/Update Module 8
    INSERT INTO public.course_modules (phase_id, module_number, title_ar, title_en, badge, is_locked)
    VALUES (p_id, 8, 'ุจูุงุก ุงูุซูู ุจุงูู AI ๐จ๐ค', 'AI Theme Building', 'SE 08', false)
    ON CONFLICT (phase_id, module_number) DO UPDATE
    SET title_ar = EXCLUDED.title_ar,
        title_en = EXCLUDED.title_en,
        badge = EXCLUDED.badge;

    SELECT id INTO u_id FROM public.course_modules WHERE phase_id = p_id AND module_number = 8;

    -- Clear existing lessons for this unit
    DELETE FROM public.lessons WHERE course_module_id = u_id;

    -- --------------------------------------------------------------------------
    -- LESSON 1: ุชุดุฑูุญ ุซูู Shopify ุงููุงุฌุญ
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ููู ุจููุฉ ุซูู Shopify ูุงููููุงุช ุงููุทููุจุฉ ูุจู ุงูุจุฏุก ูู ุงูุชูููุฏ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนูุ ูุชุชุฌูุจ ุงูุฃุฎุทุงุก ุงูุชูููุฉ.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใูุง ูู ุซูู Shopifyุใ
ุงูุซูู ูู "ุงููุงูุจ" ุงูุฐู ูุญุฏุฏ ุดูู ููุธูุฑ ูุชุฌุฑู (ุงูุฃููุงูุ ุงูุฎุทูุทุ ุชุฎุทูุท ุงูุตูุญุงุชุ ูุชุฌุฑุจุฉ ุงููุณุชุฎุฏู UX).

### ใ๐ค ููุงุฐุง ููุดุฆ ุซูู ุจุงูู AIุใ

| ุงูุทุฑููุฉ ุงูุชูููุฏูุฉ โ | ุทุฑููุฉ ุงูู AI โ |
| :--- | :--- |
| ุดุฑุงุก ุซูู: 180-350$ | **ูุฌุงูู ุชูุงูุงู!** |
| ุชุฎุตูุต ูุญุฏูุฏ | ุชุฎุตูุต ูุงูู (Custom) |
| ููุณ ุงูุซูู ูุขูุงู ุงููุชุงุฌุฑ | ุซูู **ูุฑูุฏ** ูู ูุญุฏู |
| ุชุญุชุงุฌ ูุจุฑูุฌ ููุชุนุฏูู | ุชุนุฏู ุจุงูู AI ูู ุซูุงูู |

### ใ๐ ุจููุฉ ุซูู Shopify - ุงููููู ุงูุฃุณุงุณูใ

```text
๐ theme/
โโโ ๐ assets/          โ CSS, JS, ูุตูุฑ
โโโ ๐ config/          โ ุฅุนุฏุงุฏุงุช ุงูุซูู (Settings)
โโโ ๐ layout/          โ ุงููุงูุจ ุงูุฑุฆูุณู (theme.liquid)
โโโ ๐ locales/         โ ูููุงุช ุงูุชุฑุฌูุฉ (en.json, ar.json)
โโโ ๐ sections/        โ ุงูุฃูุณุงู (Header, Hero, Footer)
โโโ ๐ snippets/        โ ุฃุฌุฒุงุก ุตุบูุฑุฉ (Product Card)
โโโ ๐ templates/       โ ููุงูุจ ุงูุตูุญุงุช (JSON)
```

**ุฃูู ุงููุฌูุฏุงุช:**
1.  **Sections:** ูู ูุณู ูู ุงูุตูุญุฉ ูู ููู ููุง (Header, Footer, Hero Banner).
2.  **Templates:** ุชุญุฏุฏ ูููู ุงูุตูุญุงุช (Home, Product, Cart).
3.  **Layout:** ูุญุชูู ุนูู `theme.liquid` (ุฃุจู ุงููููุงุช) ุงูุฐู ูุฌูุน ูู ุดูุก.

### ใ๐ ุงููููุงุช ุงูุถุฑูุฑูุฉ (Minimum Viable Theme)ใ
ุงูู AI ุณููุชุจ ูู ูุฐู ุงููููุงุชุ ููู ูุฌุจ ุฃู ุชุนุฑู ุฃุณูุงุกูุง:
*   `layout/theme.liquid`
*   `sections/header.liquid`, `footer.liquid`
*   `templates/index.json`, `product.json`
*   `assets/base.css` (ุงูุชุตููู)

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ูุง ุชุญุชุงุฌ ุฃู ุชููู ูุจุฑูุฌุงู!**
ุฃูุช "ุงููููุฏุณ ุงููุนูุงุฑู" ูุงูู AI ูู "ุงูุจูุงู".
ุฏูุฑู ูู ูุนุฑูุฉ **ูุงุฐุง** ุชุญุชุงุฌ ูุฃูู ุชุถุนูุ ูุงูู AI ุนููู **ููู** ููุชุจ ุงูููุฏ.
ูุง ุชุถูุน ุดููุฑุงู ูู ุชุนูู ุงูุจุฑูุฌุฉุ ุฑูุฒ ุนูู ุงูุงุณุชุฑุงุชูุฌูุฉ.

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**"ูุฌุจ ุฃู ุฃุชุนูู Liquid ู CSS ูุจู ุงูุจุฏุก".**
โ ุฎุทุฃ! ูุฐุง ูุงู ุฒูุงู. ุงููููุ ุฃูุช ุชุญุชุงุฌ ููุท ููู "ูููู ุงููููุงุช". ุงูู AI ุณููุชุจ ููุฏุงู ุฃูุถู ูุฃูุธู ูู ูุนุธู ุงููุจุชุฏุฆูู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ุฃูุช ุงูุขู ุชููู "ุฎุฑูุทุฉ" ุงูุซููุ ุฌุงูุฒ ูgeben ุงูุฃูุงูุฑ ููู AI ุจุฏูุฉ ุงููุญุชุฑููู.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุชูููุฑ 350$ ุซูู ุงูุซูู + ุชูููุฑ ูุฆุงุช ุงูุฏููุงุฑุงุช ูููุจุฑูุฌูู ูุณุชูุจูุงู.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 1, 'ุชุดุฑูุญ ุซูู Shopify ุงููุงุฌุญ', 'Theme Anatomy', content, 1, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ูููุช ุงููุฌูุฏุงุช ุงูุณุจุนุฉ ุงูุฃุณุงุณูุฉ ููุซูู', 1),
    (l_id, 'ุนุฑูุช ุงููููุงุช ุงูุถุฑูุฑูุฉ (MVP Theme)', 2),
    (l_id, 'ุฌุงูุฒ ูุชุญุถูุฑ ุงููููุฉ ุงูุจุตุฑูุฉ', 3);


    -- --------------------------------------------------------------------------
    -- LESSON 2: ุชุญุถูุฑ ุงููููุฉ ุงูุจุตุฑูุฉ
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุชุฌููุฒ ูู ุนูุงุตุฑ ุงููููุฉ ุงูุจุตุฑูุฉ (ุฃููุงูุ ุฎุทูุทุ ุดุนุงุฑ) ูุจู ุชูููุฏ ุงูุซูู ูุถูุงู ุชูุงุณู ุงูุจุฑุงูุฏ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐จ ุนูุงุตุฑ ุงููููุฉ ุงูุจุตุฑูุฉใ
"ุงูุซูู ุจุฏูู ูููุฉ = ููุฒู ุจุฏูู ุฑูุญ"

**1. ุงูุดุนุงุฑ (Logo):**
*   ูููุจุชุฏุฆูู: **Wordmark** (ุงุณู ุงูุจุฑุงูุฏ ุจุฎุท ูููุฒ) ูู ุงูุฃูุถู ูุงูุฃุณูู.
*   ุงูุฃุฏูุงุช: Canva (ูุฌุงูู)ุ Hatchful (ูุฌุงูู)ุ Looka (AI).

**2. ุงูุฃููุงู (Color Palette) - ูุงุนุฏุฉ 60-30-10:**
*   **Primary (60%):** ููู ุงูุจุฑุงูุฏ ุงูุฃุณุงุณู (ููุฃุฒุฑุงุฑ ูุงูุฑูุงุจุท).
*   **Secondary (30%):** ููู ูููู (ููุฎูููุงุช ุงูุซุงูููุฉ).
*   **Accent (10%):** ููู ุงูุชูููุฒ (ูุฃุฒุฑุงุฑ "Add to Cart" ูุงูุนุฑูุถ).
*   *ุฃุฏูุงุช:* Coolors.co (ุงูุฃูุถู).

**3. ุงูุฎุทูุท (Typography):**
ุงุณุชุฎุฏู **Google Fonts** (ูุฌุงููุฉ ูุณุฑูุนุฉ).
*   **ุฎุท ููุนูุงููู (Headings):** ูููุฒ (ูุซู Playfair Display ุฃู Montserrat).
*   **ุฎุท ูููุตูุต (Body):** ุณูู ุงููุฑุงุกุฉ (ูุซู Open Sans ุฃู Roboto).

**4. ููุท ุงูุตูุฑ (Image Style):**
ูู ุตูุฑู ุจุฎูููุฉ ุจูุถุงุก (ูุธูู)ุ ุฃู Lifestyle (ุทุจูุนู)ุ ุญุฏุฏ ููุทุงู ูุงุญุฏุงู ูุงูุชุฒู ุจู.

### ใ๐ ูุงูุจ ุงููููุฉ (Brand Identity Sheet)ใ
ุงููุฃ ูุฐุง ูุจู ุงูุฐูุงุจ ููู AI:
*   **ุงุณู ุงูุจุฑุงูุฏ:** [ุงุณูู]
*   **ุงูุฃููุงู:** #Primary, #Secondary, #Accent
*   **ุงูุฎุทูุท:** Heading Font, Body Font
*   **ุงููุจุฑุฉ:** (ุฑุณููุ ูุฏูุฏุ ูุงุฎุฑ...)

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ุงูุจุณุงุทุฉ = ุงูุงุญุชุฑุงููุฉ!**
ูุง ุชุณุชุฎุฏู 10 ุฃููุงู ู 5 ุฎุทูุท. ุงูุธุฑ ูู Apple ุฃู Nike: ููููู ุฃู ุซูุงุซุฉุ ูุฎุท ูุงุญุฏ ุฃู ุงุซููู.
ุงูุชุตููู "ุงููุฒุฏุญู" ูุตุฑุฎ "ูุจุชุฏุฆ".

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**"ุณุฃุฎุชุงุฑ ุงูุฃููุงู ุงูุชู ุฃุญุจูุง ุฃูุง".**
โ ุฎุทุฃ! ุงุฎุชุฑ ุงูุฃููุงู ุงูุชู ุชูุงุณุจ **ุงูููุชุด** ู**ุงูุฌูููุฑ**.
ุจูุฌ ูุฃุฎุถุฑ ููู Wellness โ. ุฃุญูุฑ ูุฃุตูุฑ ููุฌูุงู ุงููุงุฎุฑ โ (ุบูุฑ ููุงุณุจ).

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุฏูู "ููู ุชุนุฑูู" ูุงูู ูุจุฑุงูุฏูุ ุฌุงูุฒ ูุชููููู ููุฐูุงุก ุงูุงุตุทูุงุนู ููุนุทูู ูุชูุฌุฉ ูุฎุตุตุฉ 100%.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ูููุฉ ุจุตุฑูุฉ ูููุฉ = ุซูุฉ ููุฑูุฉ ูู ุงูุนููู = ูุนุฏู ุชุญููู (Conversion Rate) ุฃุนูู.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 2, 'ุชุญุถูุฑ ุงููููุฉ ุงูุจุตุฑูุฉ', 'Visual Identity', content, 2, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุตููุช ุงูุดุนุงุฑ (Logo) ุจุตูุบุฉ PNG ุดูุงูุฉ', 1),
    (l_id, 'ุงุฎุชุฑุช ุจุงููุช ุงูุฃููุงู (Hex Codes)', 2),
    (l_id, 'ุงุฎุชุฑุช ุงูุฎุทูุท (Google Fonts)', 3),
    (l_id, 'ููุฃุช ูุฑูุฉ ุงููููุฉ ุงูุจุตุฑูุฉ', 4);


    -- --------------------------------------------------------------------------
    -- LESSON 3: ุงูุจุฑููุจุช ุงููุซุงูู ูุชูููุฏ ุงูุซูู
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุชุนูู ููููุฉ "ููุฏุณุฉ ุงูุฃูุงูุฑ" (Prompt Engineering) ููุชุงุจุฉ ุจุฑููุจุช ููุชุฌ ุซูู Shopify ุงุญุชุฑุงูู

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใูุนุงุฏูุฉ ุงูุจุฑููุจุช ุงูุงุญุชุฑุงููใ
**Role (ุงูุฏูุฑ) + Task (ุงููููุฉ) + Context (ุงูุณูุงู) + Specs (ุงูููุงุตูุงุช) = ูุชูุฌุฉ ุฎุฑุงููุฉ โจ**

### ใ๐ค SHOPIFY THEME GENERATION PROMPTใ
*(ุงูุณุฎ ูุฐุง ูุนุฏูู)*

```text
ุฃูุช ูุทูุฑ Shopify ูุชุฎุตุต. ุงููููุฉ: ุฅูุดุงุก ุซูู Shopify 2.0 ูุงูู.

1. ูุนูููุงุช ุงูุจุฑุงูุฏ:
โข ุงูุงุณู: [ุงุณู ูุชุฌุฑู]
โข ุงูููุชุด: [ููุชุดู]
โข ุงูุฌูููุฑ: [ุฌูููุฑู]

2. ุงููููุฉ ุงูุจุตุฑูุฉ:
โข ุงูุฃููุงู: Primary [CODE], Secondary [CODE], Accent [CODE]
โข ุงูุฎุทูุท: Headings [Font], Body [Font]

3. ุงููุชุทูุจุงุช:
โข ุชุตููู Modern & Clean.
โข ูุชุฌุงูุจ 100% (Mobile-First).
โข ุฃูุณุงู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ: Header, Hero, Featured Products, Testimonials, Footer.

4. ุงููุฎุฑุฌุงุช ุงููุทููุจุฉ (ุนูู ูุฑุงุญู):
ุฃุฑูุฏ ุงูููุฏ ุงููุงูู ูููููุงุช ุงูุชุงููุฉ (Group 1):
- layout/theme.liquid
- sections/header.liquid
- sections/footer.liquid
```

### ใูุตุงุฆุญ ูุจุฑููุจุช ุฃูุถูใ
1.  **ูู ูุญุฏุฏุงู:** ุจุฏู "ุฃุฑูุฏ ุซูู ุฌููู"ุ ูู "ุฃุฑูุฏ ุซูู Minimalist ุจุฃููุงู ูุงุฏุฆุฉ".
2.  **ุฃุนุทู ุฃูุซูุฉ:** "ุฃุฑูุฏ Hero Section ูุดุจู ูููุน [ูุซุงู]".
3.  **ุญุฏุฏ ูุง ูุง ุชุฑูุฏู:** "ูุง ุฃุฑูุฏ Animations ูุซูุฑุฉ ุชุจุทุฆ ุงููููุน".

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ุงุญูุธ ุงูุจุฑููุจุช ููุงูุจ!**
ูุฐุง ุงูุจุฑููุจุช ูู "ูุธุงูู" ูุฅูุดุงุก ูุชุงุฌุฑ ูุง ููุงุฆูุฉ. ููุท ุบููุฑ ุงููุชุบูุฑุงุช (ุงุณู ุงููุชุฌุฑ ูุงูุฃููุงู) ูู ูู ูุฑุฉ.

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**ุทูุจ ูู ุงููููุงุช ูู ุฑุณุงูุฉ ูุงุญุฏุฉ.**
โ ุงูู AI (Claude/ChatGPT) ูู ุญุฏ ูุนุฏุฏ ุงููููุงุช. ุฅุฐุง ุทูุจุช ูู ุดูุก ูุฑุฉ ูุงุญุฏุฉุ ุณูููุทุน ุงูููุฏ ููููู ุบูุฑ ููุชูู.
โ ุงูุญู: ุงุทูุจ ุงููููุงุช ุนูู **ุฏูุนุงุช** (Batches) ููุง ุณููุนู ูู ุงูุฏุฑุณ ุงูุชุงูู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ุจุฑููุจุช ุฌุงูุฒ ููุฎุตุตุ ูู "ุงูููุชุงุญ" ุงูุฐู ุณููุชุญ ูู ูุฏุฑุงุช ุงูู AI ูุจูุงุก ูุชุฌุฑู.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงููุฏุฑุฉ ุนูู ุชูููุฏ ุฃุตูู ุฑูููุฉ ุบุงููุฉ (ุซููุงุช) ูุฌุงูุงู ูุจุณุฑุนุฉ.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 3, 'ุงูุจุฑููุจุช ุงููุซุงูู ูุชูููุฏ ุงูุซูู', 'Perfect Prompt', content, 3, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ูููุช ูููู ุงูุจุฑููุจุช (Role, Task, Context)', 1),
    (l_id, 'ุฎุตุตุช ุงูุจุฑููุจุช ุจูุนูููุงุช ุจุฑุงูุฏู', 2),
    (l_id, 'ุญูุธุช ูุต ุงูุจุฑููุจุช ูู ููู ูุงุณุชุฎุฏุงูู', 3);


    -- --------------------------------------------------------------------------
    -- LESSON 4: ุชูููุฏ ุงูููุฏ ูุน Claude
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุชูููุฐ ุนูููุฉ ุงูุชูููุฏ ุงููุนูู ููููุงุช ุงูุซูู ุจุงุณุชุฎุฏุงู Claude ุฎุทูุฉ ุจุฎุทูุฉ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใุงุณุชุฑุงุชูุฌูุฉ ุงูุชูููุฏ (4 ูุฑุงุญู)ใ
ุจุณุจุจ ุญุฌู ุงูุซููุ ุณููุณู ุงูุนูู:

**ุงููุฑุญูุฉ 1: ุงูุฃุณุงุณ (Structure)**
*   ุฃุฑุณู ุงูุจุฑููุจุช ูุงุทูุจ: `layout/theme.liquid`, `sections/header.liquid`, `sections/footer.liquid`.
*   ุงูุณุฎ ุงูููุฏ ููู ููู ูุงุญูุธู ูู ูุฌูุฏู ุงูููุงุจู.

**ุงููุฑุญูุฉ 2: ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Home)**
*   ุงุทูุจ: `sections/hero-banner.liquid`, `features.liquid`, `featured-collection.liquid`.
*   ุงุทูุจ: `templates/index.json`.

**ุงููุฑุญูุฉ 3: ุงูุตูุญุงุช ุงูุฏุงุฎููุฉ (Inner Pages)**
*   ุงุทูุจ: `templates/product.json`, `cart.json`.
*   ุงุทูุจ: `sections/product-template.liquid`, `cart-template.liquid`.

**ุงููุฑุญูุฉ 4: ุงูุชูุณูู ูุงูุฅุนุฏุงุฏุงุช (Assets & Config)**
*   ุงุทูุจ: `assets/base.css` (ููู ุฌุฏุงู!), `assets/theme.js`.
*   ุงุทูุจ: `config/settings_schema.json`.

### ใููููุฉ ุงูุนููใ
1.  ุฃูุดุฆ ูุฌูุฏ `my-theme` ุนูู ุฌูุงุฒู ูุจุฏุงุฎูู ุงููุฌูุฏุงุช ุงููุฑุนูุฉ (`assets`, `sections`, ...).
2.  ุงูุณุฎ ููุฏ Claude ูุงูุตูู ูู ููู ูุตู (Notepad/VS Code).
3.  ุงุญูุธ ุงูููู ุจุงูุงุณู ุงูุตุญูุญ ูู ุงููุฌูุฏ ุงูุตุญูุญ (ุชุฃูุฏ ูู ุงูุงูุชุฏุงุฏ `.liquid` ุฃู `.json` ุฃู `.css`).

### ใุงูุชุนุงูู ูุน ุงููุดุงููใ
*   **ุฅุฐุง ุงููุทุน ุงูููุฏ:** ุงูุชุจ "ุฃููู ูู ูุถูู" ุฃู "ุฃููู ููู theme.liquid".
*   **ุฅุฐุง ูุฌุฏุช ุฎุทุฃ:** ุงูุณุฎ ุฑุณุงูุฉ ุงูุฎุทุฃ ููุตููุง ูู Claude: "ุนูุฏู ุงูุฎุทุฃ ุงูุชุงูู ูู ููู Xุ ุตุญุญู".

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ุงุฌุนู "Claude" ูู ุงููุทูุฑ ุงูุฎุงุต ุจู.**
ูุง ุชุจุฏุฃ ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ ููู ููู. ุงุจูู ูู ููุณ ุงููุญุงุฏุซุฉ (Chat) ููุญุชูุธ ุจุงูุณูุงู (Context) ููุนุฑู ุฃููุงูู ูุฎุทูุทู ุทูุงู ุงูููุช.

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**ูุณุฎ ุงูููุฏ ุฏูู ูุฑุงุกุฉ ุงูููุงูุฉ.**
โ ุฃุญูุงูุงู ููุชุจ ุงูู AI `... rest of code` ูุงุฎุชุตุงุฑ ุงูููุช.
โ ุชุฃูุฏ ุฃู ุงูููู ููุชูู ุจุดูู ุตุญูุญ (ุฅุบูุงู ุงูุชุงุฌุงุช `</div>`, `{% endschema %}`). ุฅุฐุง ูุฌุฏุช ููุตุงูุ ุงุทูุจ ููู ุฅููุงูู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุฏูู ุงูุขู ูู ูููุงุช ุงูุซูู (Codebase) ูุญููุธุฉ ุนูู ุฌูุงุฒูุ ุฌุงูุฒุฉ ููุชุฌููุน.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงูุชูุงู ููุฏ ูุตุฏุฑู (Source Code) ููุชุฌุฑ ุงุญุชุฑุงูู 100% ูููู.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 4, 'ุชูููุฏ ุงูููุฏ ูุน Claude', 'Generating Code', content, 4, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุฃูุดุฃุช ูููู ุงููุฌูุฏุงุช ุนูู ุฌูุงุฒู', 1),
    (l_id, 'ููุฏุช ูููุงุช ุงููุฑุญูุฉ 1 (ุงูุฃุณุงุณ)', 2),
    (l_id, 'ููุฏุช ูููุงุช ุงููุฑุญูุฉ 2 (ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ)', 3),
    (l_id, 'ููุฏุช ุจุงูู ุงููููุงุช ูุญูุธุชูุง ูู ุฃูุงูููุง', 4);


    -- --------------------------------------------------------------------------
    -- LESSON 5: ุชุฌููุน ูููุงุช ุงูุซูู (ZIP)
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุชุฌููุน ูู ุงููููุงุช ูู ููู ูุถุบูุท (ZIP) ุจุดูู ุตุญูุญ ูููุจูู Shopify ุจุฏูู ุฃุฎุทุงุก

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใูุฑุงุฌุนุฉ ุงููููู ุงูููุงุฆูใ
ูุจู ุงูุถุบุทุ ุชุฃูุฏ ุฃู ูุฌูุฏู ูุจุฏู ููุฐุง:

```text
๐ my-theme/
โโโ ๐ assets/ (ููู base.css)
โโโ ๐ config/ (ููู settings_schema.json)
โโโ ๐ layout/ (ููู theme.liquid)
โโโ ๐ sections/ (ููู ูู ุงูู sections)
โโโ ๐ templates/ (ููู ูู ุงูููุงูุจ json)
โโโ ๐ locales/ (ููู en.default.json)
```

### ใุทุฑููุฉ ุงูุถุบุท (ZIP) ุงูุตุญูุญุฉ โใ
1.  ุงุฏุฎู **ุฏุงุฎู** ูุฌูุฏ `my-theme`.
2.  ุญุฏุฏ **ุงููุฌูุฏุงุช ุงููุฑุนูุฉ** ูููุง (`assets`, `config`, ...).
3.  Right-Click โ Send to โ Compressed (zipped) folder.
4.  ุณููู `my-theme.zip`.

### ใุงูุทุฑููุฉ ุงูุฎุงุทุฆุฉ โใ
ุฃู ุชุถุบุท ุงููุฌูุฏ ุงูุฎุงุฑุฌู `my-theme`.
ูุฐุง ุณููุชุฌ ูููุงู ููููู: `my-theme.zip/my-theme/assets/...` โ
Shopify ูู ููุจู ูุฐุง ูุณูุนุทูู ุฎุทุฃ "Invalid Structure".

### ใูุงุฆูุฉ ุงูุชุญูู (Pre-ZIP Checklist)ใ
*   [ ] ูู ุงููุฌูุฏุงุช ููุฌูุฏุฉุ
*   [ ] ุฃุณูุงุก ุงููููุงุช ุจุงูุฅูุฌููุฒูุฉ ูุจุฏูู ูุณุงูุงุชุ
*   [ ] ุงูุงูุชุฏุงุฏุงุช ุตุญูุญุฉ (.liquid ูููุณ .txt)ุ

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ุงุญุชูุธ ุจูุณุฎุฉ ููุชูุญุฉ (ุบูุฑ ูุถุบูุทุฉ).**
ุฏุงุฆูุงู ุงุฌุนู ูุฏูู:
1.  ูุฌูุฏ `my-theme` (ููุนูู ูุงูุชุนุฏูู).
2.  ููู `my-theme.zip` (ููุฑูุน ููุท).

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**ุชุณููุฉ ุงููููุงุช ุจุงูุนุฑุจู.**
โ `ุงูููุฏุฑ.liquid`
โ `header.liquid`
Shopify ูุง ูููู ุฃุณูุงุก ุงููููุงุช ุงูุนุฑุจูุฉ ููุฏ ูููุงุฑ ุงูุซูู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ููู ZIP ูุถุบูุท ุจุดูู "ุฌุฑุงุญู" ุฌุงูุฒ ููุฑูุน ุนูู ุณูุฑูุฑุงุช Shopify.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุชุฌุงูุฒ ุงูุนูุจุงุช ุงูุชูููุฉ ุงูุชู ุชููู 90% ูู ุงููุจุชุฏุฆูู.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 5, 'ุชุฌููุน ูููุงุช ุงูุซูู (ZIP)', 'Zipping Files', content, 5, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุฑุงุฌุนุช ูููู ุงููููุงุช ูุงููุฌูุฏุงุช', 1),
    (l_id, 'ุชุฃูุฏุช ูู ุนุฏู ูุฌูุฏ ูุฌูุฏุงุช ูุงุฑุบุฉ ุฃู ุฃุณูุงุก ุฎุงุทุฆุฉ', 2),
    (l_id, 'ุถุบุทุช ุงููููุงุช ุจุงูุทุฑููุฉ ุงูุตุญูุญุฉ (ูู ุงูุฏุงุฎู)', 3),
    (l_id, 'ุชุฃูุฏุช ุฃู ุญุฌู ุงูููู ููุทูู (50-200 KB)', 4);


    -- --------------------------------------------------------------------------
    -- LESSON 6: ุฑูุน ูุชูุนูู ุงูุซูู ุนูู Shopify
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุฑูุน ุงูุซูู ุนูู ุงููุชุฌุฑุ ููุนุงููุชูุ ูุชูุนููู ููุตุจุญ ุงููุงุฌูุฉ ุงูุฑุณููุฉ ุฃูุงู ุงูุนููุงุก

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใุฎุทูุงุช ุงูุฑูุนใ
1.  ุงุฐูุจ ูู **Online Store โ Themes**.
2.  ูู ูุณู "Theme library"ุ ุงุฎุชุฑ **Add theme โ Upload zip file**.
3.  ุงุฎุชุฑ `my-theme.zip`.

ุงูุชุธุฑ ุฏูููุฉ...
โ ุฅุฐุง ุธูุฑ "Theme uploaded" = ูุฌุญูุง!
โ ุฅุฐุง ุธูุฑ ุฎุทุฃ = ุฑุงุฌุน ูููู ุงูู ZIP ุฃู ุฑุณุงูุฉ ุงูุฎุทุฃ.

### ใุงููุนุงููุฉ (Preview) ูุจู ุงูุชูุนููใ
ูุง ุชูุดุฑ ุงูุซูู ููุฑุงู!
1.  ุงุถุบุท **Actions โ Preview**.
2.  ุชุตูุญ ุงููุชุฌุฑ: ูู ุงูููุฏุฑ ูุธูุฑุ ูู ุงูุฃููุงู ุตุญูุญุฉุ ูู ุงูููุชุฑ ููุฌูุฏุ
3.  ุฌุฑุจ ูุชุญ ุตูุญุฉ ููุชุฌ.

### ใุงูุชูุนูู (Publish)ใ
ุฅุฐุง ูุงู ูู ุดูุก ุชูุงู:
ุงุถุบุท **Actions โ Publish**.
๐ ูุจุฑูู! ูุชุฌุฑู ุงูุฌุฏูุฏ ุฃุตุจุญ "Live".

### ใุงูุชุฎุตูุต (Customize)ใ
ุงูุขู ุงุถุบุท **Customize** ูุชุจุฏุฃ ุงููุชุนุฉ:
*   ุงุฑูุน ุดุนุงุฑู.
*   ุบููุฑ ูุตูุต ุงูุจุงูุฑ.
*   ุฃุถู ุตูุฑ ุงูููุชุฌุงุช.
ุฃูุช ุงูุขู ุชุนูู ุจุจูุฆุฉ Shopify ุงูุทุจูุนูุฉุ ููู ุจุซููู ุงูุฎุงุต!

### ใ๐ ูุตูุญุฉ ุฐูุจูุฉใ
**ุงุฎุชุจุฑ ุนูู ุงูููุจุงูู! ๐ฑ**
70-90% ูู ุฒูุงุฑุงุชู ุณุชุฃุชู ูู ุงูููุงุชู.
ุงูุชุญ ุฑุงุจุท ุงููุนุงููุฉ ุนูู ูุงุชูู ุงูุญูููู ูุชุฃูุฏ ุฃู ุงูุฃุฒุฑุงุฑ ุณููุฉ ุงูุถุบุท ูุงููุตูุต ูุงุถุญุฉ.

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**"ุงูุซูู ุฌุงูุฒุ ุณุฃุจุฏุฃ ุงูุฅุนูุงูุงุช!"**
โ ุชููู! ุงุนูู ุทูุจ ุชุฌุฑูุจู (Test Order) ูุงูู ููุชุฃูุฏ ูู ุฃู ุฒุฑ "Add to Cart" ูุนูู ููุฃุฎุฐ ุงูุนููู ููู Checkout.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุชุฌุฑ Shopify "ุญู" ุจุชุตููู ุงุญุชุฑุงูู ูุฑูุฏุ ุฌุงูุฒ ูุงุณุชูุจุงู ุงููุญุชูู ูุงูุฒูุงุฑ.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ูุชุฌุฑ ูุจุฏู ููุฃูู ููู 5000$ุ ูููู ูููู 0$ ูุณุงุนุงุช ููููุฉ.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 6, 'ุฑูุน ูุชูุนูู ุงูุซูู ุนูู Shopify', 'Upload & Publish', content, 6, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุฑูุนุช ููู ZIP ุจูุฌุงุญ ุนูู Shopify', 1),
    (l_id, 'ุนุงููุช ุงูุซูู (Preview) ูุชุฃูุฏุช ูู ุฎููู ูู ุงูุฃุฎุทุงุก', 2),
    (l_id, 'ูุนููุช ุงูุซูู (Publish)', 3),
    (l_id, 'ุงุฎุชุจุฑุช ุงูุชุตูุญ ุนูู ุงูููุจุงูู', 4);


    -- --------------------------------------------------------------------------
    -- LESSON 7: ุงููุตุงุฏูุฉ ูุน ุงูููุชุด
    -- --------------------------------------------------------------------------
    content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุงูุชุฃูุฏ ูู ุฅุชูุงูู ุงููุงูู ูููุงุฑุฉ "ุจูุงุก ุงูุซููุงุช ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู" ูุงุณุชุนุฏุงุฏู ููุฑุญูุฉ ุงููุญุชูู

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใูุฑุงุฌุนุฉ ุงููุญุฏุฉ 08ใ
ููุฏ ุชุนููุช ููุงุฑุฉ "ุฎุงุฑูุฉ" ูู ูุฐู ุงููุญุฏุฉ:
1.  ุชุดุฑูุญ ูููู ููุฏ Shopify.
2.  ุจูุงุก ูููุฉ ุจุตุฑูุฉ ูุงููุฉ.
3.  ููุฏุณุฉ ุงูุฃูุงูุฑ (Prompt Engineering).
4.  ุชูููุฏ ููุฏ ูุจูุงุก ููุชุฌ ุชููู ูู ุงูุตูุฑ.

### ใChecklist ุงูุฅุชูุงู โใ
*   [ ] ูุฏู ุซูู ูุฑููุน ูููุนู ุนูู ุงููุชุฌุฑ.
*   [ ] ุงูุซูู ูุญูู ุฃููุงูู ูุดุนุงุฑู ุงูุฎุงุต.
*   [ ] ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุชุญุชูู ุนูู ุงูุฃูุณุงู ุงููุทููุจุฉ (Hero, Features, Products).
*   [ ] ุงููุชุฌุฑ ูุชุฌุงูุจ (Responsive) ุนูู ุงูููุจุงูู.

### ใุงููููุฉ ุงูุชู ููุฑุชูุง ๐ฐใ
*   ุซูู ูุฏููุน: ~300$
*   ูุตูู ุนูุงูุฉ ุชุฌุงุฑูุฉ: ~500$
*   ูุทูุฑ ููุชุนุฏููุงุช: ~1000$
**ุงููุฌููุน: ููุฑุช ุฃูุซุฑ ูู 1800$!** ๐
ูุงูุฃูู: ูุฐู ุงูููุงุฑุฉ ูุนู ููุฃุจุฏุ ูุฃู ูุชุฌุฑ ุชูุชุญู ูุณุชูุจูุงู.

### ใุงูุฎุทูุฉ ุงูุชุงููุฉใ
ุงููุชุฌุฑ ุฌูููุ ูููู "ูุงุฑุบ" ูู ุงูููุชุฌุงุช ุงููููุนุฉ.
**โก๏ธ ุงููุญุฏุฉ 09: ุตูุญุฉ ุงูููุชุฌ ุงููุงุชูุฉ ๐๐ฐ**
ุณูุชุนูู ููู ููุชุจ ูุตูุงู ูุจูุนุ ูููู ูุตูู ุตูุญุฉ ููุชุฌ ูุง ูุฎุฑุฌ ูููุง ุงูุนููู ุฅูุง ููู ูุดุชุฑู!

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ุฃูุช ุงูุขู "Shopify Developer" ุจุงูุฅุถุงูุฉ ููููู ุชุงุฌุฑ. ูุฏูู ุงูุณูุทุฑุฉ ุงููุงููุฉ ุนูู ูุธูุฑ ูุชุฌุฑู ุฏูู ุงูุญุงุฌุฉ ูุฃุญุฏ.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงูุงุณุชููุงููุฉ ุงูุชุงูุฉ + ุชูููุฑ ุงูุชูุงููู = ูุงูุด ุฑุจุญ ุฃุนูู.';

    INSERT INTO public.lessons (phase_id, course_module_id, module_number, title_ar, title_en, content_ar, order_index, is_locked)
    VALUES (p_id, u_id, 7, 'ุงููุตุงุฏูุฉ ูุน ุงูููุชุด', 'Validation', content, 7, false)
    RETURNING id INTO l_id;

    INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
    (l_id, 'ุฃูููุช ูุงุฆูุฉ ุงูุชุญูู (All Systems Go)', 1),
    (l_id, 'ุซููู ูุนูู ููุจุฏู ุงุญุชุฑุงููุงู', 2),
    (l_id, 'ุฃูุง ูุณุชุนุฏ ููุฑุญูุฉ ุงููุญุชูู (ุงููุญุฏุฉ 9)! ๐', 3);

END $$;
