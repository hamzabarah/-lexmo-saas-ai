-- Add Modules 32-36 to Phase 1

DO $$
DECLARE
  p_id uuid;
  m_id uuid;
BEGIN
  -- Get Phase 1 ID
  SELECT id INTO p_id FROM public.phases WHERE phase_number = 1;

  -- Update total modules count
  UPDATE public.phases SET total_modules = 36 WHERE id = p_id;

  -- ---------------------------------------------
  -- Module 32
  -- ---------------------------------------------
  INSERT INTO public.modules (phase_id, module_number, badge, title_ar, title_en, emoji, objective_ar, content_ar, expected_result_ar, order_index)
  VALUES (p_id, 32, 'AMB 32', 'ุงุณุชูุงู ุงูุฃุฑุจุงุญ ๐ณ', 'Receiving your earnings', '๐ณ', 
          'ููู ููู ุชุณุชูู ุฃุฑุจุงุญู', 
          'ุนูุฏูุง ูุดุชุฑู ุดุฎุต ุนุจุฑ ุฑุงุจุทู:' || chr(10) || 
          '1. ุชุธูุฑ ุงูุจูุนุฉ ูู "ุฃุฑุจุงุญู" ุจุญุงูุฉ "ููุฏ ุงูุงูุชุธุงุฑ".' || chr(10) || 
          '2. ุจุนุฏ 7 ุฃูุงู (ูุชุฑุฉ ุงูุถูุงู) ุชุตุจุญ "ุฌุงูุฒ ููุฏูุน".' || chr(10) || 
          '3. ุชูุฑุณู ุงูุฃููุงู ูุญุณุงุจู ูู ุฃุณุจูุน.' || chr(10) || chr(10) || 
          'ุฌุฏูู ุงูุนูููุงุช (50%):' || chr(10) || 
          '- ุงูุทุงูุจ: 997โฌ โ ุนูููุชู 499โฌ' || chr(10) || 
          '- ุงูุจุฒูุณ: 1,497โฌ โ ุนูููุชู 749โฌ' || chr(10) || 
          '- ุงูููุชูุฑ: 4,997โฌ โ ุนูููุชู 2,499โฌ' || chr(10) || chr(10) || 
          'ุญุงูุงุช ุงูุจูุนุฉ:' || chr(10) || 
          '- ๐ก ููุฏ ุงูุงูุชุธุงุฑ = ุฌุฏูุฏ' || chr(10) || 
          '- ๐ข ุฌุงูุฒ ููุฏูุน = ูููู ุณุญุจู' || chr(10) || 
          '- โ ุชู ุงูุฏูุน = ูุตู ูุญุณุงุจู' || chr(10) || 
          '- ๐ด ูุณุชุฑุฌุน = ุงูุนููู ุทูุจ ุงุณุชุฑุฏุงุฏ' || chr(10) || chr(10) || 
          'ููุงุญุธุฉ: ุฅุนุฏุงุฏ ุญุณุงุจ ุงูุฏูุน (Stripe/PayPal/Wise) ุณููุดุฑุญ ุจุงูุชูุตูู ูู ุงููุฑุญูุฉ 3.',
          'ูู ููุงูุฉ ูุฐู ุงููุญุฏุฉ: ุณุชููู ุจุงูุถุจุท ููู ุชุตู ุฃููุงูู ููุชู', 32)
  RETURNING id INTO m_id;

  INSERT INTO public.tasks (module_id, task_text_ar, order_index) VALUES
  (m_id, 'ูููุช ููู ุชุตู ุงูุนูููุงุช', 1),
  (m_id, 'ุญูุธุช ุฌุฏูู ุงูุนูููุงุช (50%)', 2),
  (m_id, 'ูููุช ุญุงูุงุช ุงูุจูุนุฉ ุงููุฎุชููุฉ', 3),
  (m_id, 'ูููุช ุณูุงุณุฉ ุงูุงุณุชุฑุฏุงุฏ (30 ููู)', 4),
  (m_id, 'ูููุช ุฃู ุฅุนุฏุงุฏ ุงูุฏูุน ุณูููู ูู ุงููุฑุญูุฉ 3', 5),
  (m_id, 'ุฃุนุฑู ุฃูู ุฃุชุงุจุน ุฃุฑุจุงุญู (ูุณู "ุฃุฑุจุงุญู")', 6),
  (m_id, 'ุฃูุง ูุทูุฆู ูุฌุงูุฒ ููุจูุน', 7);

  -- ---------------------------------------------
  -- Module 33
  -- ---------------------------------------------
  INSERT INTO public.modules (phase_id, module_number, badge, title_ar, title_en, emoji, objective_ar, content_ar, expected_result_ar, order_index)
  VALUES (p_id, 33, 'AMB 33', 'ุงูุฅุทุงุฑ ุงููุงูููู โ๏ธ', 'Legal Framework', 'โ๏ธ', 
          'ููู ุงููุถุน ุงููุงูููู ููุนูู ุจุฑุงุญุฉ', 
          'ูู ุฃุญุชุงุฌ ุดุฑูุฉ ููุจุฏุกุ โ ูุง!' || chr(10) || chr(10) || 
          'ุงููุฑุงุญู:' || chr(10) || 
          '- 0 - 5,000โฌ โ ูุง ุชุญุชุงุฌ ุดูุกุ ุงุจุฏุฃ ุงูุขู' || chr(10) || 
          '- 5,000โฌ+ โ ููุฑ ูู ูุถุน ูุงูููู' || chr(10) || 
          '- 10,000โฌ+ โ ุฃูุดุฆ ูุถุน ูุงูููู ุฑุณูู' || chr(10) || chr(10) || 
          'ุญุณุจ ุจูุฏู:' || chr(10) || 
          '๐ซ๐ท ูุฑูุณุง: Auto-entrepreneur' || chr(10) || 
          '๐ง๐ช ุจูุฌููุง: Entreprise individuelle' || chr(10) || 
          '๐จ๐ญ ุณููุณุฑุง: Raison individuelle' || chr(10) || 
          '๐จ๐ฆ ููุฏุง: Sole Proprietorship' || chr(10) || 
          '๐บ๐ธ ุฃูุฑููุง: Sole Proprietor ุฃู LLC' || chr(10) || 
          '๐ฌ๐ง ุจุฑูุทุงููุง: Sole Trader' || chr(10) || 
          '๐ฒ๐ฆ ุงููุบุฑุจ: Auto-entrepreneur' || chr(10) || 
          '๐ฉ๐ฟ ุงูุฌุฒุงุฆุฑ: ุงุจุฏุฃ ุจุฏููุ ูุงุญูุงู ุณุฌู ุชุฌุงุฑู' || chr(10) || 
          '๐น๐ณ ุชููุณ: Forfaitaire' || chr(10) || 
          '๐ช๐ฌ ูุตุฑ: ุณุฌู ุชุฌุงุฑู + ุจุทุงูุฉ ุถุฑูุจูุฉ' || chr(10) || 
          '๐ธ๐ฆ๐ฆ๐ช๐ฐ๐ผ๐ถ๐ฆ ุงูุฎููุฌ: ุฑุฎุตุฉ ุนูู ุญุฑ' || chr(10) || chr(10) || 
          'ุงููุงุนุฏุฉ: ุงุจุฏุฃ ุงูุขู โ ูุธูู ุนูุฏ 5,000โฌ',
          'ูู ููุงูุฉ ูุฐู ุงููุญุฏุฉ: ุณุชุนุฑู ูุง ุชุญุชุงุฌู ูุงููููุงู ูุณุชุจุฏุฃ ุจุฏูู ุฎูู', 33)
  RETURNING id INTO m_id;

  INSERT INTO public.tasks (module_id, task_text_ar, order_index) VALUES
  (m_id, 'ุนุฑูุช ุงููุถุน ุงููุงูููู ุงูููุงุณุจ ูุจูุฏู', 1),
  (m_id, 'ูููุช ุฃููู ูุง ุฃุญุชุงุฌ ุดูุก ููุจุฏุก (0-5,000โฌ)', 2),
  (m_id, 'ูููุช ูุชู ุฃุญุชุงุฌ ูุชูุธูู ูุถุนู', 3),
  (m_id, 'ูุฑุฑุช: ุณุฃูุธู ูุถุนู ุนูุฏ ___โฌ', 4),
  (m_id, 'ูููุช ุฃู ุงูุชูุงุตูู ุณุชููู ูู ุงููุฑุญูุฉ 3', 5),
  (m_id, 'ูู ุฃูุชุธุฑ "ุงูููุช ุงููุซุงูู"', 6),
  (m_id, 'ุณุฃุจุฏุฃ ุงูุขู!', 7);

  -- ---------------------------------------------
  -- Module 34
  -- ---------------------------------------------
  INSERT INTO public.modules (phase_id, module_number, badge, title_ar, title_en, emoji, objective_ar, content_ar, expected_result_ar, order_index)
  VALUES (p_id, 34, 'AMB 34', 'ุญูุงูุฉ ุงูุฃุฑุจุงุญ ๐', 'Protecting your earnings', '๐', 
          'ุชุฃููู ุญุณุงุจุงุชู ูุนุฏู ุฎุณุงุฑุฉ ุฃู ุดูุก', 
          'ุชุฃููู ุงูุญุณุงุจุงุช (ุฅูุฒุงูู!):' || chr(10) || 
          '1. ูููุงุช ุณุฑ ูุฎุชููุฉ ููููุฉ (12+ ุญุฑู).' || chr(10) || 
          '2. ุงูุชุญูู ุจุฎุทูุชูู (2FA) ุนูู ูู ุงูุญุณุงุจุงุช (Google Authenticator).' || chr(10) || chr(10) || 
          'ุฎุทุฉ ุจุฏููุฉ:' || chr(10) || 
          '- ุฃูุดุฆ ุญุณุงุจุงุช ุงุญุชูุงุทูุฉ ูู TikTok ู Instagram ุงูุขู.' || chr(10) || 
          '- ุงุญุชูุธ ุจุฑุงุจุทู ูููุฏู ููุชูุจูู.' || chr(10) || chr(10) || 
          'ุชุฌูุจ ุงูุญุธุฑ:' || chr(10) || 
          'โ ูุง ุชูุดุฑ ุงูุฑุงุจุท ูู ุงูุชุนูููุงุช ูุชุฌูุจ ุงูู Spam.' || chr(10) || 
          'โ ุงูุฑุงุจุท ูู ุงูุจุงูู ููุทุ ูุฑูุฒ ุนูู ุงููุญุชูู ุงูููู.',
          'ูู ููุงูุฉ ูุฐู ุงููุญุฏุฉ: ุญุณุงุจุงุชู ูุฃุฑุจุงุญู ูุญููุฉ 100%', 34)
  RETURNING id INTO m_id;

  INSERT INTO public.tasks (module_id, task_text_ar, order_index) VALUES
  (m_id, 'ุบูุฑุช ูููุงุช ุงูุณุฑ ููููุงุช ูููุฉ', 1),
  (m_id, 'ูุนููุช 2FA ุนูู ูู ุงูุญุณุงุจุงุช', 2),
  (m_id, 'ุฃูุดุฃุช ุญุณุงุจ TikTok ุงุญุชูุงุทู', 3),
  (m_id, 'ุฃูุดุฃุช ุญุณุงุจ Instagram ุงุญุชูุงุทู', 4),
  (m_id, 'ุญูุธุช ุจูุงูุงุชู ุงููููุฉ ูู ููุงู ุขูู', 5),
  (m_id, 'ูููุช ูุง ูุณุจุจ ุงูุญุธุฑ ูููู ุฃุชุฌูุจู', 6),
  (m_id, 'ุฃูุดุฃุช ุฌุฏูู ูุชุชุจุน ุงููุจูุนุงุช', 7);

  -- ---------------------------------------------
  -- Module 35
  -- ---------------------------------------------
  INSERT INTO public.modules (phase_id, module_number, badge, title_ar, title_en, emoji, objective_ar, content_ar, expected_result_ar, order_index)
  VALUES (p_id, 35, 'AMB 35', 'ุชุญููู ุงูุฅุญุตุงุฆูุงุช ๐', 'Analyzing Statistics', '๐', 
          'ููู ูุง ููุฌุญ ููุง ูุง ููุฌุญ', 
          'ุฃูู ุชุฑู ุงูุฅุญุตุงุฆูุงุชุ' || chr(10) || 
          '- TikTok: Creator Tools โ Analytics' || chr(10) || 
          '- Instagram: Insights' || chr(10) || chr(10) || 
          'ุงูุฃุฑูุงู ุงููููุฉ:' || chr(10) || 
          '1. ุงููุดุงูุฏุงุช (Views)' || chr(10) || 
          '2. ููุช ุงููุดุงูุฏุฉ (Watch Time)' || chr(10) || 
          '3. ุงูุชูุงุนู (ูุงููุงุช + ุชุนูููุงุช)' || chr(10) || 
          '4. ุงูููุฑุงุช ุนูู ุงูุฑุงุจุท โ ุงูุฃูู!' || chr(10) || chr(10) || 
          'ุงููุงุนุฏุฉ: ุญูู ูู ุฃุณุจูุน ูุงุนูู ุงููุฒูุฏ ููุง ููุฌุญ!',
          'ูู ููุงูุฉ ูุฐู ุงููุญุฏุฉ: ุณุชุนุฑู ูุง ููุฌุญ ูุชุถุงุนู ูุชุงุฆุฌู', 35)
  RETURNING id INTO m_id;

  INSERT INTO public.tasks (module_id, task_text_ar, order_index) VALUES
  (m_id, 'ูุชุญุช ุฅุญุตุงุฆูุงุช TikTok', 1),
  (m_id, 'ูุชุญุช ุฅุญุตุงุฆูุงุช Instagram', 2),
  (m_id, 'ุนุฑูุช ุฃู ููุฏูู ุญุตู ุนูู ุฃูุถู ูุชุงุฆุฌ', 3),
  (m_id, 'ุนุฑูุช ุฃู ููุน ูุญุชูู ูุนูู ุฃูุถู', 4),
  (m_id, 'ุนุฑูุช ุฃูุถู ููุช ูููุดุฑ', 5),
  (m_id, 'ูุฑุฑุช: ุณุฃุนูู ุงููุฒูุฏ ูู [ููุน ุงููุญุชูู ุงููุงุฌุญ]', 6),
  (m_id, 'ุณุฃุญูู ุฅุญุตุงุฆูุงุชู ูู ุฃุณุจูุน', 7);

  -- ---------------------------------------------
  -- Module 36
  -- ---------------------------------------------
  INSERT INTO public.modules (phase_id, module_number, badge, title_ar, title_en, emoji, objective_ar, content_ar, expected_result_ar, order_index)
  VALUES (p_id, 36, 'AMB 36', 'ูุถุงุนูุฉ ุงููุชุงุฆุฌ ๐', 'Scaling your results', '๐', 
          'ุงูุงูุชูุงู ูู ูุชุงุฆุฌ ุนุงุฏูุฉ ุฅูู ุงุณุชุซูุงุฆูุฉ', 
          'ุงุณุชุฑุงุชูุฌูุฉ ุงููุถุงุนูุฉ:' || chr(10) || 
          '1. ูููุฉ ุฃูุซุฑ: 3 ููุฏูููุงุช/ููู.' || chr(10) || 
          '2. ุฌูุฏุฉ ุฃุนูู: ุญุณูู Hook ูุงูุตูุช.' || chr(10) || 
          '3. ููุตุงุช ุฃูุซุฑ: TikTok + Instagram + YouTube Shorts + Facebook Reels.' || chr(10) || 
          'ููุฏูู ูุงุญุฏ = 4 ููุตุงุช = 4x ุงููุตูู!' || chr(10) || chr(10) || 
          'ููุฏูู ูุฌุญุ' || chr(10) || 
          'ุงุนูู ูุณุฎ ูุดุงุจูุฉุ ุฑุฏ ุจููุฏููุ ุญููู ูุณุชูุฑู.' || chr(10) || chr(10) || 
          'ุงูุฑูุชูู ุงูููุซู:' || chr(10) || 
          'ุงูุตุจุงุญ: ุฑุฏุ ุงูููุงุฑ: ุชุตููุฑุ ุงููุณุงุก: ูููุชุงุฌ ููุดุฑุ ูุจู ุงูููู: ูุชุงุจุนุฉ.',
          'ูู ููุงูุฉ ูุฐู ุงููุญุฏุฉ: ุณุชุถุงุนู ูุชุงุฆุฌู ูุชุตู ูู 10,000โฌ ุจุณุฑุนุฉ', 36)
  RETURNING id INTO m_id;

  INSERT INTO public.tasks (module_id, task_text_ar, order_index) VALUES
  (m_id, 'ุฒุฏุช ุนุฏุฏ ุงูููุฏูููุงุช ุงูููููุฉ', 1),
  (m_id, 'ุฃูุดุฃุช ุญุณุงุจุงุช ุนูู ููุตุงุช ุฅุถุงููุฉ', 2),
  (m_id, 'ุจุฏุฃุช ูุดุฑ ููุณ ุงูููุฏูู ุนูู 4 ููุตุงุช', 3),
  (m_id, 'ุฃุนุฏุช ุงุณุชุฎุฏุงู ุงูููุฏูููุงุช ุงููุงุฌุญุฉ', 4),
  (m_id, 'ุฃูุดุฃุช ูุงุฆูุฉ ุงูุนููุงุก ุงููุญุชูููู', 5),
  (m_id, 'ุทุจูุช ุงูุฑูุชูู ุงูููุซู', 6),
  (m_id, 'ุฃูุง ููุชุฒู ุจุงููุตูู ูู 10,000โฌ', 7);

END $$;
