-- Insert Content and Tasks for Phase 2, Unit 1, Lessons 2-7
-- Following STRICT structure: Content -> Tasks -> Result

DO $$
DECLARE
  p_id uuid;
  u_id uuid;
  l_id uuid;
  content text;
BEGIN
  -- 1. IDs
  SELECT id INTO p_id FROM public.phases WHERE phase_number = 2;
  SELECT id INTO u_id FROM public.course_modules WHERE phase_id = p_id AND module_number = 1;

  -- =================================================================
  -- Lesson 2: ุงููุฑู ุจูู ุงูููุงุฐุฌ ุงููุฎุชููุฉ
  -- =================================================================
  SELECT id INTO l_id FROM public.lessons WHERE course_module_id = u_id AND module_number = 2;
  
  content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุงูุชูููุฒ ุจูู "ุฏุฑูุจุดูุจููุบ"ุ "CoD" ู "ุงูุจุฑุงูุฏ ุงูุฎุงุต".

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใุงููููุฐุฌ 1: ุฏุฑูุจุดูุจููุบใ
ุชุจูุน ููุชุฌุงุช ูุง ุชููููุง.
ุนูุฏูุง ูุทูุจ ุงูุนูููุ ูุฑุณู ุงูููุฑุฏ ุงูููุชุฌ ูุจุงุดุฑุฉ.

### ใุงููููุฐุฌ 2: ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู (CoD)ใ
ุงููููุฐุฌ "ุงูููู" ูู ุงูุฏูู ุงูุนุฑุจูุฉ.
ุงูุฒุจูู ูุง ูุฏูุน ุฅูุง ุนูุฏูุง ูุณุชูู ุงูููุชุฌ.

### ใุงููููุฐุฌ 3: ุงูุจุฑุงูุฏ ุงูุฎุงุตใ
ุชุถุน ุดุนุงุฑู ุนูู ุงูููุชุฌ.
ุฃุนูู ุฑุจุญูุฉุ ููู ูุญุชุงุฌ ุฑุฃุณ ูุงู.

### ใ๐ ููุงุฑูุฉ ุณุฑูุนุฉใ
| ุงููููุฐุฌ | ุงูููุฒุฉ | ุงูุนูุจ |
|---------|--------|-------|
| ุฏุฑูุจุดูุจููุบ | ุณูู ุงูุจุฏุก | ูุงูุด ุฑุจุญ ุฃูู |
| CoD | ุชุญููู (Conversion) ุนุงูู | ูุดุงูู ุงูุชูุตูู |
| ุจุฑุงูุฏ | ุฃุตู (Asset) ุญูููู | ูุฎุงุทุฑุฉ ุจุงููุฎุฒูู |

### ใ๐ก ูุตูุญุฉ ุฐูุจูุฉใ
**ุงุจุฏุฃ ุจู CoD ุฃู ุฏุฑูุจุดูุจููุบ!**
ูุง ุชุจุฏุฃ ุจุจุฑุงูุฏ ูู ุงูููู ุงูุฃูู. ุชุนูู ุงูุจูุน ุฃููุงู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ุฃูุช ุชุนุฑู ุงูุขู ุฃู ูููุฐุฌ ููุงุณุจ ุณููู.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงุฎุชูุงุฑ ุงููููุฐุฌ ุงูุตุญูุญ = ุชูุงุฏู ุฎุณุงุฑุฉ ุฃุดูุฑ ูู ุงูุนูู.';

  UPDATE public.lessons SET content_ar = content, is_locked = false WHERE id = l_id;

  DELETE FROM public.tasks WHERE lesson_id = l_id;
  INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
  (l_id, 'ูููุช ุงููุฑู ุจูู ุงูููุงุฐุฌ ุงูุซูุงุซุฉ', 1),
  (l_id, 'ุนุฑูุช ุฅูุฌุงุจูุงุช ูุณูุจูุงุช CoD', 2),
  (l_id, 'ูุฑุฑุช ุชุฃุฌูู "ุงูุจุฑุงูุฏ" ููุฑุญูุฉ ูุงุญูุฉ', 3);


  -- =================================================================
  -- Lesson 3: ุงุฎุชูุงุฑ ุงููููุฐุฌ ุงูููุงุณุจ ูู
  -- =================================================================
  SELECT id INTO l_id FROM public.lessons WHERE course_module_id = u_id AND module_number = 3;

  content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุชุญุฏูุฏ ุงููููุฐุฌ ุงูุฐู ููุงุณุจ ููุฒุงููุชู ูุดุฎุตูุชู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใุชุญููู ูุถุนู ุงูุญุงููใ
ููุณ ูู ูููุฐุฌ ููุงุณุจ ุงูุฌููุน.

### ใูุชู ุชุฎุชุงุฑ CoDุใ
โ ุฅุฐุง ููุช ุชุณุชูุฏู ุฏูู ุงูุฎููุฌ ุฃู ุดูุงู ุฃูุฑูููุง.
โ ุฅุฐุง ูุงู ุนูุฏู "ูุงุด" ูุชุฏููุฑ ุงูุจุถุงุนุฉ.

### ใูุชู ุชุฎุชุงุฑ ุฏุฑูุจุดูุจููุบุใ
โ ุฅุฐุง ูุงูุช ููุฒุงููุชู ูุญุฏูุฏุฉ ุฌุฏุงู (ุฃูู ูู 500$).
โ ุฅุฐุง ููุช ุชุณุชูุฏู ุฃูุฑูุจุง ุฃู ุฃูุฑููุง.

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**"ุณุฃุฌุฑุจ ูู ุดูุก ูุนุงู"**
โ ุงูุชุดุชุช ูู ุนุฏู ุงููุฌุงุญ. ุงุฎุชุฑ ูููุฐุฌุงู ูุงุญุฏุงู ููุท!

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ููุฏ ุงุชุฎุฐุช ูุฑุงุฑุงู ุงุณุชุฑุงุชูุฌูุงู ููุณุชูุจูู.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงูุชุฑููุฒ = ูุชุงุฆุฌ ุฃุณุฑุน ุจู 3 ุฃุถุนุงู.';

  UPDATE public.lessons SET content_ar = content, is_locked = false WHERE id = l_id;

  DELETE FROM public.tasks WHERE lesson_id = l_id;
  INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
  (l_id, 'ุญุฏุฏุช ููุฒุงููุชู ุงูุญุงููุฉ', 1),
  (l_id, 'ุญุฏุฏุช ุงูุณูู ุงููุณุชูุฏู (ุนุฑุจู ุฃู ุฃุฌูุจู)', 2),
  (l_id, 'ุงุฎุชุฑุช ูููุฐุฌุงู ูุงุญุฏุงู ููุจุฏุก', 3);


  -- =================================================================
  -- Lesson 4: ุชุญุฏูุฏ ุฑุฃุณ ุงููุงู ุงููุทููุจ
  -- =================================================================
  SELECT id INTO l_id FROM public.lessons WHERE course_module_id = u_id AND module_number = 4;

  content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุญุณุงุจ ุงููุจูุบ ุงูุฏููู ุงูุฐู ุชุญุชุงุฌู ููุจุฏุก (ุจุฏูู ููุงุฌุขุช).

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใุงูุชูุงููู ุงูุฃุณุงุณูุฉใ
ูุฐู ูุง ููุฑ ูููุง.
- ุงููุชุฌุฑ (YouCan/Shopify): 25-30$
- ุงูุฏูููู: 10$

### ใููุฒุงููุฉ ุงูุชุณููู (ุงูุงุฎุชุจุงุฑ)ใ
ุชุญุชุงุฌ ุงููุงู ูุดุฑุงุก "ุงูุฏุงุชุง" (ุงููุนูููุงุช).
- 100$ - 200$ ููุชุฌุฑุจุฉ ุงูุฃูููุฉ.

### ใ๐ ูุซุงู ุนูููใ
**ุฃุญูุฏ ุจุฏุฃ ุจู 150$:**
- 30$ ูุชุฌุฑ
- 10$ ุฏูููู
- 110$ ุฅุนูุงูุงุช ููุณุจูู
**ุงููุชูุฌุฉ:** ุญูู ูุจูุนุงุช ูููุฑ ุซูู ุงูุจุถุงุนุฉ ูู ุงููุงู ุงููุฏููุน (Dropshipping).

### ใ๐ก ูุตูุญุฉ ุฐูุจูุฉใ
**ูุง ุชุตุฑู ูุงูู ุนูู ุงูููุฌู!**
ุงูููุฌู ูุง ูุจูุน. ุงุตุฑู ูุงูู ุนูู ุงูุฅุนูุงูุงุช.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุฏูู ุฎุทุฉ ูุงููุฉ ูุงุถุญุฉ.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุฅุฏุงุฑุฉ ูุงููุฉ ุตุญูุญุฉ = ุงุณุชูุฑุงุฑ ูู ุงูุณูู.';

  UPDATE public.lessons SET content_ar = content, is_locked = false WHERE id = l_id;

  DELETE FROM public.tasks WHERE lesson_id = l_id;
  INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
  (l_id, 'ูุชุจุช ุชูุงููู ุงูุชุฃุณูุณ', 1),
  (l_id, 'ุฎุตุตุช ููุฒุงููุฉ ููุฅุนูุงูุงุช', 2),
  (l_id, 'ุชุนูุฏุช ุจุนุฏู ุตุฑู ุงููุงู ุนูู ุงูููุงููุงุช', 3);


  -- =================================================================
  -- Lesson 5: ูุถุน ุชููุนุงุช ูุงูุนูุฉ
  -- =================================================================
  SELECT id INTO l_id FROM public.lessons WHERE course_module_id = u_id AND module_number = 5;
  content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุจูุงุก ุนูููุฉ "ุงููุณุงูุงุช ุงูุทูููุฉ" ูุชุฌูุจ ุงูุฅุญุจุงุท.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใููุญูู ุงูุชุนููใ
ูู ุฃูู 30 ูููุ ูุชููุน "ุชุนูู" ูููุณ "ุฃุฑุจุงุญ".

### ใโ๏ธ ุฎุทุฃ ุดุงุฆุนใ
**"ุณุฃุตุจุญ ููููููุฑุงู ูู ุฃุณุจูุน"**
โ ูุฐุง ุชูููุฑ ุงูููุงูุฑุ ููุณ ุชูููุฑ ุฑูุงุฏู ุงูุฃุนูุงู.

### ใุงูุฅุญุตุงุฆูุงุช ุงูุญููููุฉใ
- 90% ููุดููู ูุฃููู ูุณุชุณูููู ูู ุฃูู ูุดููุฉ.
- ุงููุฌุงุญ ูุฃุชู ุจุนุฏ ุงููุญุงููุฉ ุฑูู 3 ุฃู 4 (ุบุงูุจุงู).

### ใ๐ก ูุตูุญุฉ ุฐูุจูุฉใ
**ุงุญุชูู ุจุงูุฎุทูุงุช ุงูุตุบูุฑุฉ!**
ุฃูู ุฒูุงุฑุฉ ูููุชุฌุฑ = ูุฌุงุญ. ุฃูู ุฅุถุงูุฉ ููุณูุฉ = ูุฌุงุญ.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ุฃูุช ูุญุตู ุถุฏ ุงูุฅุญุจุงุท.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงูุงุณุชูุฑุงุฑ ุนูุฏูุง ูุชููู ุงูุขุฎุฑูู = ุงููุฌุงุญ.';

  UPDATE public.lessons SET content_ar = content, is_locked = false WHERE id = l_id;

  DELETE FROM public.tasks WHERE lesson_id = l_id;
  INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
  (l_id, 'ูููุช ุฃู ุงููุดู ุฌุฒุก ูู ุงูุฑุญูุฉ', 1),
  (l_id, 'ูุถุนุช ูุฏูุงู ููุชุนูู ูููุณ ุงููุงู ููุท', 2),
  (l_id, 'ุฃูุง ูุณุชุนุฏ ูููุญุงููุฉ 3 ูุฑุงุช ุนูู ุงูุฃูู', 3);


  -- =================================================================
  -- Lesson 6: ุฅุนุฏุงุฏ ุฎุทุฉ ุงูุนูู
  -- =================================================================
  SELECT id INTO l_id FROM public.lessons WHERE course_module_id = u_id AND module_number = 6;
  content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุชุญููู ุงูููุงู ุงููุธุฑู ุฅูู ุฌุฏูู ุฒููู ููุชูููุฐ.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใุงูุฃุณุจูุน 1: ุงูุชุฃุณูุณใ
ุงุฎุชูุงุฑ ุงูููุชุด + ุฅูุดุงุก ุงููุชุฌุฑ.

### ใุงูุฃุณุจูุน 2: ุงูุจุญุซใ
ุงูุจุญุซ ุนู ููุชุฌุงุช + ุงูุชุฌุณุณ ุนูู ุงูููุงูุณูู.

### ใุงูุฃุณุจูุน 3: ุงูุฅุทูุงูใ
ุฅุนุฏุงุฏ ุงูุญููุงุช ุงูุฅุนูุงููุฉ + ุจุฏ ุงูุงุฎุชุจุงุฑ.

### ใ๐ ูุงุฌุจ ููุฒููใ
ุฃุญุถุฑ ูุฑูุฉ ููููุ ูุงูุชุจ:
"ูู ุชุงุฑูุฎ [....] ุณุฃุทูู ุฃูู ุฅุนูุงู ูู."

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ูุฏูู ุฎุงุฑุทุฉ ุทุฑูู ูุงุถุญุฉ ููู 21 ููู ุงููุงุฏูุฉ.

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงูุฎุทุฉ ุงูููุชูุจุฉ ุชุฒูุฏ ุงุญุชูุงููุฉ ุงููุฌุงุญ ุจู 40%.';

  UPDATE public.lessons SET content_ar = content, is_locked = false WHERE id = l_id;

  DELETE FROM public.tasks WHERE lesson_id = l_id;
  INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
  (l_id, 'ุฑุณูุช ุงูุฌุฏูู ุงูุฒููู ููุฃุณุจูุน 1', 1),
  (l_id, 'ุญุฏุฏุช ููุนุฏ ุงูุฅุทูุงู ุงูุฃููู', 2),
  (l_id, 'ุงูุชุฒูุช ุจุชูููุฐ ูููุฉ ูุงุญุฏุฉ ููููุงู', 3);


  -- =================================================================
  -- Lesson 7: ุงููุตุงุฏูุฉ ูุน ุงูููุชุด
  -- =================================================================
  SELECT id INTO l_id FROM public.lessons WHERE course_module_id = u_id AND module_number = 7;
  content := '### ใ๐ฏ ูุฏู ุงูุฏุฑุณใ
ุงูุชุฃูุฏ ูู ุฃูู ูุณุชุนุฏ ุชูุงูุงู ููุงูุชูุงู ูููุญุฏุฉ 2.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใูุงุฆูุฉ ุงูุชุญูู (Checklist)ใ
ูุจู ุฃู ุชุบุงุฏุฑ ูุฐู ุงููุญุฏุฉุ ุฑุงุฌุน ูุง ููู:

1. ูู ุงุฎุชุฑุช ุงููููุฐุฌุ
2. ูู ุฌูุฒุช ููุฒุงููุชูุ
3. ูู ุนูููุชู ุตุญูุญุฉุ

### ใุฏูุฑ ุงูููุชุด ุงูุฐููใ
ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูููุชุด ูุงุณุฃูู:
"ูู ุฎุทุชู ููุจุฏุก ุจููุฒุงููุฉ 200$ ูู CoD ููุทููุฉุ"

### ใ๐ก ูุตูุญุฉ ุฐูุจูุฉใ
**ูุง "ุชุบุด" ููุณู!**
ุฅุฐุง ูู ุชููู ุดูุฆุงูุ ุงุฑุฌุน ููุฏุฑุณ ุงูุณุงุจู. ูุญู ูุง ูุณุงุจู ุฃุญุฏุงู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

### ใ๐ฏ ุงููุชูุฌุฉใ
ุฃูุช ุฎุฑูุฌ "ุงููุญุฏุฉ 1" ุฑุณููุงู! ูุจุฑูู ๐

**๐ฐ ุณููุงุฑูู ุงูุฑุจุญ:** ุงูุฃุณุงุณ ุงููุชูู = ุจูุงุก ูุงุทุญุฉ ุณุญุงุจ ุนุงููุฉ.';

  UPDATE public.lessons SET content_ar = content, is_locked = false WHERE id = l_id;

  DELETE FROM public.tasks WHERE lesson_id = l_id;
  INSERT INTO public.tasks (lesson_id, task_text_ar, order_index) VALUES
  (l_id, 'ุฑุงุฌุนุช ุฌููุน ุงูุฏุฑูุณ ุงูุณุงุจูุฉ', 1),
  (l_id, 'ุชุฃูุฏุช ูู ุฌุงูุฒูุชู ูููุญุฏุฉ 2', 2),
  (l_id, 'ุถุบุทุช ุนูู ุฒุฑ ุฅููุงู ุงููุญุฏุฉ (ุชุฎูููุงู)', 3);

END $$;
